{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"./components/Navbar\";import Show from\"./pages/Show\";import Home from\"./pages/Home\";import Actor from\"./pages/Actor\";import{Route,Routes}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import{useState,useEffect,useCallback}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useCookies=useCookies([\"acc\"]),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookies=_useCookies2[1];var _useState=useState(cookies.acc||\"\"),_useState2=_slicedToArray(_useState,2),entry=_useState2[0],setEntry=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),myList=_useState4[0],setMyList=_useState4[1];var _useState5=useState(cookies.acc||\"\"),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];// useEffect(() => {\n// \tsetDBList();\n// }, [myList])\nuseEffect(function(){getMALData();},[]);var getMALData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var malData,str,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(entry!=\"\")){_context.next=17;break;}console.log(\"getting MAL data\");_context.prev=2;_context.next=5;return fetch('/api/mal',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({Username:entry})}).then(function(res){return res.json();});case 5:malData=_context.sent;// instead of array we're turning the list into a comma separated string\n// let temp = [];\n// for (let i in malData.data) {\n// \ttemp[i] = malData.data[i].node.id;\n// }\nstr=\"(\";for(i in malData.data){str+=malData.data[i].node.id+\",\";}str=str.slice(0,str.length-1)+\")\";console.log(str);setMyList(str);if(str.length>0){setUser(entry);setCookies('acc',user,{path:'/'});}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[2,14]]);}));return function getMALData(){return _ref.apply(this,arguments);};}();// const setDBList = async() => {\n// \tif (myList.length > 0) {\n// \t\tconst myListString = await fetch('/api/list', {\n// \t\t\tmethod: 'POST',\n// \t\t\theaders: {\n// \t\t\t'content-type': 'application/json',\n// \t\t\t'Accept': 'application/json'\n// \t\t\t},\n// \t\t\tbody: JSON.stringify({\n// \t\t\t\tids: myList\n// \t\t\t})\n// \t\t})\n// \t}\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userSearchArea\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"userSearch\",type:\"text\",placeholder:\"MAL Username\",value:entry,onChange:function onChange(e){return setEntry(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{id:\"userSearchButton\",onClick:function onClick(){return getMALData();},children:\"Filter by User\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"filterLabel\",children:[/*#__PURE__*/_jsxs(\"h6\",{id:\"filter\",children:[\"Filtered by \",user.length>0?user:\"All Anime\"]}),user!=\"\"?/*#__PURE__*/_jsx(\"button\",{id:\"unfilter\",onClick:removeFilter,children:\"Remove Filter\"}):/*#__PURE__*/_jsx(_Fragment,{})]})]}),/*#__PURE__*/_jsx(Navbar,{username:user}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{user:user,myList:myList})}),/*#__PURE__*/_jsx(Route,{path:\"/Anime/:id?/:title?\",element:/*#__PURE__*/_jsx(Show,{user:user,myList:myList})}),/*#__PURE__*/_jsx(Route,{path:\"/Actor/:id?\",element:/*#__PURE__*/_jsx(Actor,{user:user,myList:myList})})]})})]});function removeFilter(){setUser(\"\");setMyList([]);setEntry(\"\");}}export default App;// }\n// export default App;","map":{"version":3,"names":["Navbar","Show","Home","Actor","Route","Routes","useCookies","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useCookies","_useCookies2","_slicedToArray","cookies","setCookies","_useState","acc","_useState2","entry","setEntry","_useState3","_useState4","myList","setMyList","_useState5","_useState6","user","setUser","getMALData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","malData","str","i","wrap","_callee$","_context","prev","next","console","log","fetch","method","headers","body","JSON","stringify","Username","then","res","json","sent","data","node","id","slice","length","path","t0","stop","apply","arguments","className","children","type","placeholder","value","onChange","e","target","onClick","removeFilter","username","element"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/App.js"],"sourcesContent":["import Navbar from \"./components/Navbar\";\r\nimport Show from \"./pages/Show\";\r\nimport Home from \"./pages/Home\";\r\nimport Actor from \"./pages/Actor\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\n\r\n\r\nfunction App() {\r\n\tconst [cookies, setCookies] = useCookies([\"acc\"])\r\n\tconst [entry, setEntry]  \t= useState(cookies.acc || \"\");\r\n\tconst [myList, setMyList] \t= useState([]);\r\n  \tconst [user, setUser]     \t= useState(cookies.acc || \"\");\r\n\t\r\n\r\n\t// useEffect(() => {\r\n\t// \tsetDBList();\r\n\t// }, [myList])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMALData()\r\n\t}, [])\r\n\r\n\r\n\tconst getMALData = async() => {\r\n\t\tif (entry != \"\") {\r\n\t\t\tconsole.log(\"getting MAL data\")\r\n\t\t\ttry {\r\n\t\t\t\tconst malData = await fetch ('/api/mal', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t\t\t'Accept': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tUsername: entry\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => res.json());\r\n\t\t\t\t// instead of array we're turning the list into a comma separated string\r\n\t\t\t\t// let temp = [];\r\n\t\t\t\t// for (let i in malData.data) {\r\n\t\t\t\t// \ttemp[i] = malData.data[i].node.id;\r\n\t\t\t\t// }\r\n\t\t\t\tlet str = \"(\"\r\n\t\t\t\tfor (let i in malData.data) {\r\n\t\t\t\t\tstr += malData.data[i].node.id + \",\"\r\n\t\t\t\t}\r\n\t\t\t\tstr = str.slice(0, str.length - 1) + \")\"\r\n\t\t\t\tconsole.log(str)\r\n\t\t\t\tsetMyList(str)\r\n\t\t\t\tif (str.length > 0) {\r\n\t\t\t\t\tsetUser(entry)\r\n\t\t\t\t\tsetCookies('acc', user, {path: '/'})\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// const setDBList = async() => {\r\n\t// \tif (myList.length > 0) {\r\n\t// \t\tconst myListString = await fetch('/api/list', {\r\n\t// \t\t\tmethod: 'POST',\r\n\t// \t\t\theaders: {\r\n\t// \t\t\t'content-type': 'application/json',\r\n\t// \t\t\t'Accept': 'application/json'\r\n\t// \t\t\t},\r\n\t// \t\t\tbody: JSON.stringify({\r\n\t// \t\t\t\tids: myList\r\n\t// \t\t\t})\r\n\t// \t\t})\r\n\t// \t}\r\n\t// }\r\n\r\n\treturn (\r\n\t\t<div className=\"app\">\r\n\t\t\t{/* <h6>{cookies.acc}</h6> */}\r\n\t\t\t<div className=\"userSearchArea\">\r\n\t\t\t\t\t<input id=\"userSearch\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"MAL Username\" \r\n\t\t\t\t\t\tvalue={entry} \r\n\t\t\t\t\t\tonChange={(e) => setEntry(e.target.value)}></input>\r\n\t\t\t\t\t<button id=\"userSearchButton\" onClick={() => getMALData()}>Filter by User</button>\r\n\t\t\t\t<div id='filterLabel'>\r\n\t\t\t\t\t<h6 id='filter'>Filtered by {user.length > 0 ? user : \"All Anime\"}</h6>\r\n\t\t\t\t\t{user != \"\"\r\n\t\t\t\t\t\t? <button id='unfilter' onClick={removeFilter}>Remove Filter</button>\r\n\t\t\t\t\t\t: <></>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Navbar username={user}/>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t<Routes>\r\n\t\t\t\t<Route path=\"/\" element={<Home user={user} myList={myList}/>} />\r\n\t\t\t\t<Route path=\"/Anime/:id?/:title?\" element={<Show user={user} myList={myList}/>} />\r\n\t\t\t\t<Route path=\"/Actor/:id?\" element={<Actor user={user} myList={myList}/>} />\r\n\t\t\t</Routes>\r\n\t\t\t</div>\r\n\t\t\t{/* <button onClick={getData}>Click</button> */}\r\n\t\t</div>\r\n\t\r\n\t);\r\n\r\n\tfunction removeFilter() {\r\n\t\tsetUser(\"\")\r\n\t\tsetMyList([])\r\n\t\tsetEntry(\"\")\r\n\t}\r\n}\r\nexport default App\r\n\r\n  \r\n  \r\n  \r\n\r\n\r\n\r\n\r\n\r\n// }\r\n\r\n// export default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}