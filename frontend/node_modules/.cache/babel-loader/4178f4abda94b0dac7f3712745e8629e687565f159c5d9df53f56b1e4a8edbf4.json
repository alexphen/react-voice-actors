{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"./components/Navbar\";import Show from\"./pages/Show\";import Home from\"./pages/Home\";import Actor from\"./pages/Actor\";import{Route,Routes}from\"react-router-dom\";import{useState,useEffect,useCallback}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){console.log(\"app renders\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),entry=_useState2[0],setEntry=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),myList=_useState4[0],setMyList=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){setDBList();},[myList]);var getMALData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var malData,temp,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"getting MAL data\");_context.prev=1;_context.next=4;return fetch('/mal',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({Username:entry})}).then(function(res){return res.json();});case 4:malData=_context.sent;temp=[];for(i in malData.data){temp[i]=malData.data[i].node.id;}console.log(temp);setMyList(temp);if(temp.length>0)setUser(entry);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function getMALData(){return _ref.apply(this,arguments);};}();var setDBList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var lister;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(myList.length>0)){_context2.next=4;break;}_context2.next=3;return fetch('/list',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ids:myList})});case 3:lister=_context2.sent;case 4:case\"end\":return _context2.stop();}},_callee2);}));return function setDBList(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[console.log(user,\"in APP\"),/*#__PURE__*/_jsxs(\"div\",{className:\"userSearchArea\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"userSearch\",type:\"text\",placeholder:\"MAL Username\",value:entry,onChange:function onChange(e){return setEntry(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{id:\"userSearchButton\",onClick:function onClick(){return getMALData();},children:\"Filter by User\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"filterLabel\",children:[/*#__PURE__*/_jsxs(\"h6\",{id:\"filter\",children:[\"Filtered by \",user.length>0?user:\"All Anime\"]}),user!=\"\"?/*#__PURE__*/_jsx(\"button\",{id:\"unfilter\",onClick:removeFilter,children:\"Remove Filter\"}):/*#__PURE__*/_jsx(_Fragment,{})]})]}),/*#__PURE__*/_jsx(Navbar,{username:user}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{user:user,myList:myList})}),/*#__PURE__*/_jsx(Route,{path:\"/Show/:id?/:title?\",element:/*#__PURE__*/_jsx(Show,{user:user,myList:myList})}),/*#__PURE__*/_jsx(Route,{path:\"/Actor/:id?\",element:/*#__PURE__*/_jsx(Actor,{user:user,myList:myList})})]})})]});function removeFilter(){setUser(\"\");setMyList([]);setEntry(\"\");}}export default App;// }\n// export default App;","map":{"version":3,"names":["Navbar","Show","Home","Actor","Route","Routes","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","console","log","_useState","_useState2","_slicedToArray","entry","setEntry","_useState3","_useState4","myList","setMyList","_useState5","_useState6","user","setUser","setDBList","getMALData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","malData","temp","i","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","Username","then","res","json","sent","data","node","id","length","t0","stop","apply","arguments","_ref2","_callee2","lister","_callee2$","_context2","ids","children","className","type","placeholder","value","onChange","e","target","onClick","removeFilter","username","path","element"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/App.js"],"sourcesContent":["import Navbar from \"./components/Navbar\"\r\nimport Show from \"./pages/Show\"\r\nimport Home from \"./pages/Home\"\r\nimport Actor from \"./pages/Actor\"\r\nimport { Route, Routes } from \"react-router-dom\"\r\nimport { useState, useEffect, useCallback } from \"react\";\r\n\r\n\r\nfunction App() {\r\n\tconsole.log(\"app renders\")\r\n\tconst [entry, setEntry]   = useState(\"\");\r\n\tconst [myList, setMyList] = useState([]);\r\n  \tconst [user, setUser]     = useState(\"\");\r\n\t\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDBList();\r\n}, [myList])\r\n\r\n\r\nconst getMALData = async() => {\r\n    console.log(\"getting MAL data\")\r\n\ttry {\r\n\t\tconst malData = await fetch ('/mal', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t'Accept': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tUsername: entry\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => res.json());\r\n\t\tlet temp = [];\r\n\t\tfor (let i in malData.data) {\r\n\t\t\ttemp[i] = malData.data[i].node.id;\r\n\t\t}\r\n\t\tconsole.log(temp)\r\n\t\tsetMyList(temp)\r\n\t\tif (temp.length > 0)\r\n\t\t\tsetUser(entry)\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\n\r\nconst setDBList = async() => {\r\n\tif (myList.length > 0) {\r\n\t\tconst lister = await fetch('/list', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t'content-type': 'application/json',\r\n\t\t\t'Accept': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\tids: myList\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n\r\n  return (\r\n\t<>\r\n\t{console.log(user, \"in APP\")}\r\n\t\t<div className=\"userSearchArea\">\r\n\t\t\t{/* <h6>{user}</h6> */}\r\n\t\t\t\t<input id=\"userSearch\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"MAL Username\" \r\n\t\t\t\t\tvalue={entry} \r\n\t\t\t\t\tonChange={(e) => setEntry(e.target.value)}></input>\r\n\t\t\t\t<button id=\"userSearchButton\" onClick={() => getMALData()}>Filter by User</button>\r\n\t\t\t<div id='filterLabel'>\r\n\t\t\t\t<h6 id='filter'>Filtered by {user.length > 0 ? user : \"All Anime\"}</h6>\r\n\t\t\t\t{user != \"\"\r\n\t\t\t\t\t? <button id='unfilter' onClick={removeFilter}>Remove Filter</button>\r\n\t\t\t\t\t: <></>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n        <Navbar username={user}/>\r\n        <div className=\"container\">\r\n          <Routes>\r\n            <Route path=\"/\" element={<Home user={user} myList={myList}/>} />\r\n            <Route path=\"/Show/:id?/:title?\" element={<Show user={user} myList={myList}/>} />\r\n            <Route path=\"/Actor/:id?\" element={<Actor user={user} myList={myList}/>} />\r\n          </Routes>\r\n        </div>\r\n        {/* <button onClick={getData}>Click</button> */}\r\n\t</>\r\n  \r\n  );\r\n\r\n  function removeFilter() {\r\n\tsetUser(\"\")\r\n\tsetMyList([])\r\n\tsetEntry(\"\")\r\n\r\n  }\r\n}\r\nexport default App\r\n\r\n  \r\n  \r\n  \r\n\r\n\r\n\r\n\r\n\r\n// }\r\n\r\n// export default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}