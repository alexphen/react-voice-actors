{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import ShowRoleToggle from\"./ShowRoleToggle\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CharName=0,Favorites=1,ActorID=2,ActorName=3;var toggles=[];var set=false;var ShowInfo=function ShowInfo(_ref){var user=_ref.user,myList=_ref.myList,flag=_ref.flag;// console.log(Show)\nvar _useParams=useParams(),id=_useParams.id,Title=_useParams.Title;var _useState=useState([id||0,Title||\"\"]),_useState2=_slicedToArray(_useState,2),showSelected=_useState2[0],setShowSelected=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),actors=_useState4[0],setActors=_useState4[1];var getShowActors=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var showData,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/show',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ShowID:id})}).then(function(res){return res.json();});case 2:showData=_context.sent;for(i in showData){showData[i]=Object.values(showData[i]);}setActors(showData);case 5:case\"end\":return _context.stop();}},_callee);}));return function getShowActors(){return _ref2.apply(this,arguments);};}();useEffect(function(){// console.log(id)\nif(id>0){setShowSelected([id,Title]);getShowActors();set=true;}},[id]);// useEffect(() => {\n//     getShowActors();\n// }, [Show]);\n// useEffect(() => {\n//     // removeDups();\n// }, [actors]);\nfunction bubbleSortActors(acts,n){var i,j,temp;var swapped;// console.log(n)\nfor(i=0;i<n-1;i++){swapped=false;for(j=0;j<n-i-1;j++){if(acts[j][Favorites]<acts[j+1][Favorites]){// Swap arr[j] and arr[j+1]\ntemp=acts[j];acts[j]=acts[j+1];acts[j+1]=temp;swapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}}function removeDups(){var actorIDs=[];for(var i in actors){// console.log(actors[i].ActorID)\n// console.log(actorIDs)\nif(actorIDs.includes(actors[i][ActorID])){actors.splice(i,1);i--;}else{actorIDs.push(actors[i][ActorID]);}}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"showInfo\",children:[removeDups(),bubbleSortActors(actors,actors.length),actors.length>0&&set?actors.map(function(actor,n){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ShowRoleToggle,{actorID:actor[ActorID],actorName:actor[ActorName],showID:id,flag:flag,user:user,myList:myList})},actor[ActorID]);}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"p\",{children:\"Failed to load from API :(\"})})]})});function getToggles(){console.log(\"called toggles\");var arr=[];for(var i in actors){var actor=actors[i];console.log(actor);arr.push(/*#__PURE__*/_jsx(ShowRoleToggle,{actorID:actor[ActorID],actorName:actor[ActorName],showID:id}));}return arr;}};export default ShowInfo;","map":{"version":3,"names":["useEffect","useState","ShowRoleToggle","useParams","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CharName","Favorites","ActorID","ActorName","toggles","set","ShowInfo","_ref","user","myList","flag","_useParams","id","Title","_useState","_useState2","_slicedToArray","showSelected","setShowSelected","_useState3","_useState4","actors","setActors","getShowActors","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","showData","i","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","ShowID","then","res","json","sent","Object","values","stop","apply","arguments","bubbleSortActors","acts","n","j","temp","swapped","removeDups","actorIDs","includes","splice","push","children","className","length","map","actor","actorID","actorName","showID","getToggles","console","log","arr"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/components/ShowInfo.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ShowRoleToggle from \"./ShowRoleToggle\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst   CharName    = 0,\r\n        Favorites   = 1,\r\n        ActorID     = 2,\r\n        ActorName   = 3;\r\n\r\nvar toggles = [];\r\nvar set = false;\r\n\r\nconst ShowInfo = ({ user, myList, flag }) => {\r\n\r\n    // console.log(Show)\r\n\r\n    const {id, Title} = useParams();\r\n    const [showSelected, setShowSelected] = useState([id || 0, Title || \"\"])\r\n    const [actors, setActors] = useState([]);\r\n    const getShowActors = async() => {\r\n        const showData = await fetch ('/api/show', {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'application/json',\r\n            'Accept': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            ShowID: id\r\n          })\r\n        })\r\n        .then(res => res.json());\r\n        for (let i in showData) {\r\n            showData[i] = Object.values(showData[i]);\r\n        }\r\n        setActors(showData)\r\n    }\r\n\r\n    useEffect(() => {\r\n        // console.log(id)\r\n        if (id > 0) {\r\n            setShowSelected([id, Title])\r\n            getShowActors();\r\n            set = true;\r\n        }\r\n    }, [id]);\r\n\r\n    // useEffect(() => {\r\n    //     getShowActors();\r\n    // }, [Show]);\r\n    \r\n    // useEffect(() => {\r\n    //     // removeDups();\r\n    // }, [actors]);\r\n\r\n\r\n    function bubbleSortActors(acts, n) {\r\n        var i, j, temp;\r\n        var swapped;\r\n        // console.log(n)\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) {\r\n                if (acts[j][Favorites] < acts[j + 1][Favorites]) {\r\n                        // Swap arr[j] and arr[j+1]\r\n                        temp = acts[j];\r\n                        acts[j] = acts[j + 1];\r\n                        acts[j + 1] = temp;\r\n                        swapped = true;\r\n                }\r\n            } \r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n                break;\r\n        }\r\n    }\r\n \r\n    function removeDups() {\r\n        var actorIDs = [];\r\n        for (var i in actors) {\r\n            // console.log(actors[i].ActorID)\r\n            // console.log(actorIDs)\r\n            if (actorIDs.includes(actors[i][ActorID])) {\r\n                actors.splice(i, 1);\r\n                i--;\r\n            }\r\n            else {\r\n                actorIDs.push(actors[i][ActorID])\r\n            }\r\n        }\r\n    }\r\n\r\n    return (  \r\n        <>\r\n            {/* {console.log(\"rendered\")} */}\r\n            {/* <h1 className=\"showTitle\">{Title}</h1> */}\r\n            <div className=\"showInfo\">\r\n                {removeDups()}\r\n                {bubbleSortActors(actors, actors.length)}\r\n                {actors.length > 0 && set\r\n                    ? actors.map((actor, n) => \r\n                        <div key={actor[ActorID]}>\r\n                            {/* {console.log(\"toggle\", actor[ActorID])} */}\r\n                            <ShowRoleToggle actorID={actor[ActorID]}\r\n                                            actorName={actor[ActorName]}\r\n                                            showID={id}\r\n                                            flag={flag}\r\n                                            user={user}\r\n                                            myList={myList}/>\r\n                        </div>\r\n                    )\r\n                    : <>\r\n                        <p>Failed to load from API :(</p>        \r\n                      </>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    function getToggles() {\r\n        console.log(\"called toggles\")\r\n        let arr = [];\r\n        for (let i in actors) {\r\n            let actor = actors[i];\r\n            console.log(actor);\r\n            arr.push(<ShowRoleToggle actorID={actor[ActorID]}\r\n                                     actorName={actor[ActorName]}\r\n                                     showID={id}/>)\r\n        } \r\n        return arr;\r\n    }\r\n}\r\n \r\nexport default ShowInfo;"],"mappings":"mcAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAQ,CAAAC,QAAQ,CAAM,CAAC,CACfC,SAAS,CAAK,CAAC,CACfC,OAAO,CAAO,CAAC,CACfC,SAAS,CAAK,CAAC,CAEvB,GAAI,CAAAC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,GAAG,CAAG,KAAK,CAEf,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CAA+B,IAAzB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,IAAI,CAAAH,IAAA,CAAJG,IAAI,CAElC;AAEA,IAAAC,UAAA,CAAoBlB,SAAS,CAAC,CAAC,CAAxBmB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAEC,KAAK,CAAAF,UAAA,CAALE,KAAK,CAChB,IAAAC,SAAA,CAAwCvB,QAAQ,CAAC,CAACqB,EAAE,EAAI,CAAC,CAAEC,KAAK,EAAI,EAAE,CAAC,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjEG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,IAAAI,UAAA,CAA4B5B,QAAQ,CAAC,EAAE,CAAC,CAAA6B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,GAAM,CAAAG,aAAa,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,CAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACK,CAAAC,KAAK,CAAE,WAAW,CAAE,CACzCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACZ,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,MAAM,CAAE9B,EACV,CAAC,CACH,CAAC,CAAC,CACD+B,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,QAVlBhB,QAAQ,CAAAI,QAAA,CAAAa,IAAA,CAWd,IAAShB,CAAC,GAAI,CAAAD,QAAQ,CAAE,CACpBA,QAAQ,CAACC,CAAC,CAAC,CAAGiB,MAAM,CAACC,MAAM,CAACnB,QAAQ,CAACC,CAAC,CAAC,CAAC,CAC5C,CACAR,SAAS,CAACO,QAAQ,CAAC,yBAAAI,QAAA,CAAAgB,IAAA,MAAArB,OAAA,GACtB,kBAhBK,CAAAL,aAAaA,CAAA,SAAAC,KAAA,CAAA0B,KAAA,MAAAC,SAAA,OAgBlB,CAED7D,SAAS,CAAC,UAAM,CACZ;AACA,GAAIsB,EAAE,CAAG,CAAC,CAAE,CACRM,eAAe,CAAC,CAACN,EAAE,CAAEC,KAAK,CAAC,CAAC,CAC5BU,aAAa,CAAC,CAAC,CACflB,GAAG,CAAG,IAAI,CACd,CACJ,CAAC,CAAE,CAACO,EAAE,CAAC,CAAC,CAER;AACA;AACA;AAEA;AACA;AACA;AAGA,QAAS,CAAAwC,gBAAgBA,CAACC,IAAI,CAAEC,CAAC,CAAE,CAC/B,GAAI,CAAAxB,CAAC,CAAEyB,CAAC,CAAEC,IAAI,CACd,GAAI,CAAAC,OAAO,CACX;AACA,IAAK3B,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGwB,CAAC,CAAG,CAAC,CAAExB,CAAC,EAAE,CAC1B,CACI2B,OAAO,CAAG,KAAK,CACf,IAAKF,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGD,CAAC,CAAGxB,CAAC,CAAG,CAAC,CAAEyB,CAAC,EAAE,CAAE,CAC5B,GAAIF,IAAI,CAACE,CAAC,CAAC,CAACtD,SAAS,CAAC,CAAGoD,IAAI,CAACE,CAAC,CAAG,CAAC,CAAC,CAACtD,SAAS,CAAC,CAAE,CACzC;AACAuD,IAAI,CAAGH,IAAI,CAACE,CAAC,CAAC,CACdF,IAAI,CAACE,CAAC,CAAC,CAAGF,IAAI,CAACE,CAAC,CAAG,CAAC,CAAC,CACrBF,IAAI,CAACE,CAAC,CAAG,CAAC,CAAC,CAAGC,IAAI,CAClBC,OAAO,CAAG,IAAI,CACtB,CACJ,CACA;AACA;AACA,GAAIA,OAAO,GAAK,KAAK,CACjB,MACR,CACJ,CAEA,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,GAAI,CAAAC,QAAQ,CAAG,EAAE,CACjB,IAAK,GAAI,CAAA7B,CAAC,GAAI,CAAAT,MAAM,CAAE,CAClB;AACA;AACA,GAAIsC,QAAQ,CAACC,QAAQ,CAACvC,MAAM,CAACS,CAAC,CAAC,CAAC5B,OAAO,CAAC,CAAC,CAAE,CACvCmB,MAAM,CAACwC,MAAM,CAAC/B,CAAC,CAAE,CAAC,CAAC,CACnBA,CAAC,EAAE,CACP,CAAC,IACI,CACD6B,QAAQ,CAACG,IAAI,CAACzC,MAAM,CAACS,CAAC,CAAC,CAAC5B,OAAO,CAAC,CAAC,CACrC,CACJ,CACJ,CAEA,mBACIP,IAAA,CAAAE,SAAA,EAAAkE,QAAA,cAGIhE,KAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAD,QAAA,EACpBL,UAAU,CAAC,CAAC,CACZN,gBAAgB,CAAC/B,MAAM,CAAEA,MAAM,CAAC4C,MAAM,CAAC,CACvC5C,MAAM,CAAC4C,MAAM,CAAG,CAAC,EAAI5D,GAAG,CACnBgB,MAAM,CAAC6C,GAAG,CAAC,SAACC,KAAK,CAAEb,CAAC,qBAClB3D,IAAA,QAAAoE,QAAA,cAEIpE,IAAA,CAACH,cAAc,EAAC4E,OAAO,CAAED,KAAK,CAACjE,OAAO,CAAE,CACxBmE,SAAS,CAAEF,KAAK,CAAChE,SAAS,CAAE,CAC5BmE,MAAM,CAAE1D,EAAG,CACXF,IAAI,CAAEA,IAAK,CACXF,IAAI,CAAEA,IAAK,CACXC,MAAM,CAAEA,MAAO,CAAC,CAAC,EAP3B0D,KAAK,CAACjE,OAAO,CAQlB,CAAC,EACV,CAAC,cACCP,IAAA,CAAAE,SAAA,EAAAkE,QAAA,cACEpE,IAAA,MAAAoE,QAAA,CAAG,4BAA0B,CAAG,CAAC,CACjC,CAAC,EAER,CAAC,CACR,CAAC,CAGP,QAAS,CAAAQ,UAAUA,CAAA,CAAG,CAClBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7B,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,IAAK,GAAI,CAAA5C,CAAC,GAAI,CAAAT,MAAM,CAAE,CAClB,GAAI,CAAA8C,KAAK,CAAG9C,MAAM,CAACS,CAAC,CAAC,CACrB0C,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC,CAClBO,GAAG,CAACZ,IAAI,cAACnE,IAAA,CAACH,cAAc,EAAC4E,OAAO,CAAED,KAAK,CAACjE,OAAO,CAAE,CACxBmE,SAAS,CAAEF,KAAK,CAAChE,SAAS,CAAE,CAC5BmE,MAAM,CAAE1D,EAAG,CAAC,CAAC,CAAC,CAC3C,CACA,MAAO,CAAA8D,GAAG,CACd,CACJ,CAAC,CAED,cAAe,CAAApE,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}