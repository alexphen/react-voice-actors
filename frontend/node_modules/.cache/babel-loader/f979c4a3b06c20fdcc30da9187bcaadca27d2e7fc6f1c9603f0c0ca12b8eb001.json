{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aphen\\\\OneDrive\\\\Documents\\\\GitHub\\\\react-voice-actors\\\\frontend\\\\src\\\\components\\\\ShowRoleToggle.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport Show from \"../pages/Show\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CharID = 0;\nconst CharName = 1;\nconst Favorites = 2;\nconst ImageURL = 3;\n// const ActorID = 4;\nconst ShowID = 5;\nconst Title = 7;\nconst ShowRoleToggle = ({\n  actorID,\n  actorName,\n  showID,\n  flag,\n  user,\n  myList\n}) => {\n  _s();\n  // console.log(\"actorID received \", actorID)\n\n  const [pos, setPos] = useState(0);\n  const [posDot, setPosDot] = useState(pos);\n  const [roleReturn, setRoleReturn] = useState([]);\n  // console.log(user, \"in Toggle\")\n  var filterFlag = user.length > 0;\n  // const [roles, setRoles] = useState([]);\n  var size;\n  var ext;\n  var prev;\n\n  // \n  useEffect(() => {\n    // console.log(actorID)\n    if (prev != actorID) {\n      prev = actorID;\n      // console.log(\"getting roles\", actorID)\n      getRoles(actorID);\n      restart();\n    }\n  }, [actorID]);\n  useEffect(() => {\n    if (myList.length > 0) {\n      sleep(5000);\n      console.log(myList);\n      getRoles(actorID);\n    }\n  }, [myList]);\n  useEffect(() => {\n    restart();\n  }, [showID]);\n\n  // useEffect(() => {\n  //     getRoles(actorID);\n  // }, []);\n\n  const getRoles = async actID => {\n    // console.log(\"ID sent to roles \", actID)\n    const roleData = await fetch('/roles', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        ActorID: actID,\n        flag: filterFlag\n      })\n    }).then(res => res.json());\n    // console.log(roleData)\n    if (roleData[0].CharName) {\n      for (let i in roleData) {\n        roleData[i] = Object.values(roleData[i]);\n      }\n    }\n    setRoleReturn(Object.values(roleData));\n    // console.log(\"rd\", Object.values(roleData))\n    // actors[actors.length] = roleData;\n  };\n\n  // useEffect(() => {\n  //     setNumRoles(countRoles(roles, roles.length));\n  //     console.log(\"numRoles\", numRoles)\n  // }, [pos, actor]);\n\n  // console.log(\"pos \", pos);\n\n  function restart() {\n    setPos(0);\n    setPosDot(0);\n  }\n  function prev() {\n    // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\n\n    if (pos === 0) {\n      setPos(size - 1);\n      setPosDot(Math.min(9, size - 1));\n    } else if (pos > 7) {\n      if (posDot > 7) setPosDot(posDot - 1);\n      setPos(pos - 1);\n    } else {\n      setPos(pos - 1);\n      setPosDot(posDot - 1);\n    }\n  }\n  function next() {\n    // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\n    // end of line\n    if (pos === size - 1) {\n      setPos(0);\n      setPosDot(0);\n    }\n    // pause at buffer\n    else if (posDot === 7 && size - pos > 3) {\n      setPos(pos + 1);\n    }\n    // press on\n    else {\n      setPos(pos + 1);\n      setPosDot(posDot + 1);\n      // console.log('posDot', posDot)\n      // console.log('pos', pos)\n      // console.log('size', size)\n      // console.log('rr', roleReturn)\n    }\n  }\n\n  // function showShows(titles) {\n  //     console.log(titles);\n  //     <MoreShows titles={titles} />\n  // }\n\n  // console.log('size', size)\n  // console.log('ext', ext)\n  // var buffer = ext;\n  const arr = [];\n  // for (let i = 0; i < Math.min(size, 10); i++) {\n  //     if (i === posDot)\n  //         arr[i] = \"⦿\"\n  //     else\n  //         arr[i] = \"◦\";\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"roleGallery\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"roleActor\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/Actor/${actorID}`,\n          children: actorName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: pos < roleReturn.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [handleRoles(), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: roleReturn[pos][ImageURL],\n          alt: roleReturn[pos][CharName]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imgNav\",\n          children: [size > 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"roleTogglePrev\",\n            onClick: prev,\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 30\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selectionDots\",\n            children: [arr, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"index\",\n              children: [\" \", pos + 1, \" of \", size, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), size > 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"roleToggleNext\",\n            onClick: next,\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 30\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: roleReturn[String(pos)][CharName]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"showsList\",\n          children: roleReturn[pos][Title] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: roleReturn[pos][Title].map((title, n) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/Show/${roleReturn[pos][ShowID][n]}/${title}`,\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)\n            }, n, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this))\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 9\n  }, this);\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n  function handleRoles() {\n    combineRoles();\n    bubbleSort(roleReturn, roleReturn.length);\n    findPrimary();\n  }\n  function combineRoles() {\n    var currRoleShowIDs = [];\n    var currRoleTitles = [];\n    // console.log(roleReturn)\n    for (let i = 0; i < roleReturn.length; i++) {\n      if (typeof roleReturn[i][Title] == 'string') {\n        currRoleShowIDs = [roleReturn[i][ShowID]];\n        currRoleTitles = [roleReturn[i][Title]];\n        // var currRoleShowIDs = [roleReturn[i].ShowID];\n        // var currRoleTitles = [roleReturn[i].Title];\n      } else {\n        currRoleShowIDs = roleReturn[i][ShowID];\n        currRoleTitles = roleReturn[i][Title];\n      }\n      for (let p = i + 1; p < roleReturn.length; p++) {\n        if (roleReturn[i][CharID] === roleReturn[p][CharID]) {\n          // console.log(currRoleShowIDs)\n          currRoleShowIDs.push(roleReturn[p][ShowID]);\n          currRoleTitles.push(roleReturn[p][Title]);\n          // console.log(currRoleTitles)\n          roleReturn.splice(p, 1);\n          p--;\n        } else {\n          i = p - 1;\n          break;\n        }\n      }\n      roleReturn[i][ShowID] = currRoleShowIDs;\n      roleReturn[i][Title] = currRoleTitles;\n    }\n    size = roleReturn.length;\n    ext = size - 10;\n    for (let i = 0; i < Math.min(size, 10); i++) {\n      if (i === posDot) arr[i] = \"⦿\";else arr[i] = \"◦\";\n    }\n  }\n  function bubbleSort(roles, n) {\n    // roleOrder = [];\n    // for (var i in roles) {\n    //     roleOrder.push(i)\n    // }\n    var i, j, temp;\n    var swapped;\n    for (i = 0; i < n - 1; i++) {\n      swapped = false;\n      for (j = 0; j < n - i - 1; j++) {\n        if (roles[j][Favorites] < roles[j + 1][Favorites]) {\n          // Swap arr[j] and arr[j+1]\n          temp = roles[j];\n          roles[j] = roles[j + 1];\n          roles[j + 1] = temp;\n          swapped = true;\n        }\n      }\n      // IF no two elements were \n      // swapped by inner loop, then break\n      if (swapped === false) break;\n    }\n  }\n  function findPrimary() {\n    // if multiple roles\n    if (roleReturn.length > 1) {\n      var num = 0;\n      // console.log(roleReturn)\n      for (var k in roleReturn) {\n        // console.log(roleReturn[k])\n        // console.log(roleReturn[k][ShowID])\n        if (roleReturn[k][ShowID].includes(parseInt(showID))) {\n          var temp = roleReturn[k];\n          roleReturn.splice(k, 1);\n          roleReturn.splice(num, 0, temp);\n          num++;\n        }\n      }\n    }\n  }\n\n  //  function countRoles(roleReturn, n) {\n  //     let res = 0;\n  //     console.log(roleReturn)\n  //     for (let i = 0; i < n; i++) {\n  //         // skip ahead on duplicates\n  //         console.log(i)\n  //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\n  //             console.log(roleReturn[i+1])\n  //             i++;\n  //         }\n  //         res++;\n  //     }\n  //     return res;\n  //  }\n};\n_s(ShowRoleToggle, \"FI2gA7+MLDJO38e+MMwgLwLDn7s=\");\n_c = ShowRoleToggle;\nexport default ShowRoleToggle;\nvar _c;\n$RefreshReg$(_c, \"ShowRoleToggle\");","map":{"version":3,"names":["useEffect","useState","useParams","Link","Show","jsxDEV","_jsxDEV","Fragment","_Fragment","CharID","CharName","Favorites","ImageURL","ShowID","Title","ShowRoleToggle","actorID","actorName","showID","flag","user","myList","_s","pos","setPos","posDot","setPosDot","roleReturn","setRoleReturn","filterFlag","length","size","ext","prev","getRoles","restart","sleep","console","log","actID","roleData","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","i","Object","values","Math","min","next","arr","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","handleRoles","src","alt","onClick","String","map","title","n","ms","Promise","resolve","setTimeout","combineRoles","bubbleSort","findPrimary","currRoleShowIDs","currRoleTitles","p","push","splice","roles","j","temp","swapped","num","k","includes","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/components/ShowRoleToggle.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport Show from \"../pages/Show\";\r\n\r\nconst CharID = 0;\r\nconst CharName = 1;\r\nconst Favorites = 2;\r\nconst ImageURL = 3;\r\n// const ActorID = 4;\r\nconst ShowID = 5;\r\nconst Title = 7;\r\n\r\nconst ShowRoleToggle = ({actorID, actorName, showID, flag, user, myList}) => {\r\n\r\n    // console.log(\"actorID received \", actorID)\r\n    \r\n    const [pos, setPos] = useState(0);\r\n    const [posDot, setPosDot] = useState(pos);\r\n    const [roleReturn, setRoleReturn] = useState([]);\r\n    // console.log(user, \"in Toggle\")\r\n    var filterFlag = user.length > 0;\r\n    // const [roles, setRoles] = useState([]);\r\n    var size;\r\n    var ext;\r\n    var prev;\r\n\r\n    // \r\n    useEffect(() => {\r\n        // console.log(actorID)\r\n        if (prev != actorID) {\r\n            prev = actorID;\r\n            // console.log(\"getting roles\", actorID)\r\n            getRoles(actorID);\r\n            restart();\r\n        }\r\n    }, [actorID]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (myList.length > 0) {\r\n            sleep(5000)\r\n            console.log(myList)\r\n            getRoles(actorID);\r\n        }\r\n    }, [myList])\r\n\r\n    useEffect(() => {\r\n        restart();\r\n    }, [showID])\r\n\r\n    // useEffect(() => {\r\n    //     getRoles(actorID);\r\n    // }, []);\r\n    \r\n    const getRoles = async(actID) => {\r\n        // console.log(\"ID sent to roles \", actID)\r\n        const roleData = await fetch ('/roles', {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n                'Accept': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                ActorID: actID,\r\n                flag: filterFlag\r\n            })\r\n        }).then(res => res.json())\r\n        // console.log(roleData)\r\n        if (roleData[0].CharName) {\r\n            for (let i in roleData) {\r\n                roleData[i] = Object.values(roleData[i])\r\n            }\r\n        }\r\n        setRoleReturn(Object.values(roleData));\r\n        // console.log(\"rd\", Object.values(roleData))\r\n        // actors[actors.length] = roleData;\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     setNumRoles(countRoles(roles, roles.length));\r\n    //     console.log(\"numRoles\", numRoles)\r\n    // }, [pos, actor]);\r\n\r\n    // console.log(\"pos \", pos);\r\n\r\n    function restart() {\r\n        setPos(0);\r\n        setPosDot(0);\r\n    }\r\n\r\n    function prev() {\r\n        // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\r\n\r\n        if (pos === 0) {\r\n            setPos(size - 1);\r\n            setPosDot(Math.min(9, size - 1));\r\n            \r\n        }\r\n        else if (pos > 7) {\r\n            if (posDot > 7) \r\n            setPosDot(posDot - 1);\r\n        setPos(pos - 1);\r\n    }\r\n    else {\r\n        setPos(pos - 1);\r\n        setPosDot(posDot - 1);\r\n    }\r\n}\r\nfunction next() {\r\n    // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\r\n    // end of line\r\n    if (pos === size - 1) {\r\n        setPos(0);\r\n        setPosDot(0);\r\n    }\r\n    // pause at buffer\r\n    else if (posDot === 7 && size - pos > 3 ) {\r\n        setPos(pos + 1)\r\n    }\r\n    // press on\r\n    else {\r\n        setPos(pos + 1);\r\n        setPosDot(posDot + 1);\r\n        // console.log('posDot', posDot)\r\n        // console.log('pos', pos)\r\n        // console.log('size', size)\r\n        // console.log('rr', roleReturn)\r\n    }\r\n} \r\n\r\n    // function showShows(titles) {\r\n    //     console.log(titles);\r\n    //     <MoreShows titles={titles} />\r\n    // }\r\n\r\n  \r\n    // console.log('size', size)\r\n    // console.log('ext', ext)\r\n    // var buffer = ext;\r\n    const arr = [];\r\n    // for (let i = 0; i < Math.min(size, 10); i++) {\r\n    //     if (i === posDot)\r\n    //         arr[i] = \"⦿\"\r\n    //     else\r\n    //         arr[i] = \"◦\";\r\n    // }\r\n    \r\n    return ( \r\n        \r\n        <div className=\"roleGallery\">\r\n            <div className=\"roleActor\">\r\n                <h3>\r\n                    <Link to={`/Actor/${actorID}`}>{actorName}</Link>\r\n                </h3>\r\n            </div>\r\n            <div>\r\n                {pos < roleReturn.length\r\n                    ? <>{handleRoles()}\r\n                    <img src={roleReturn[pos][ImageURL]} alt={roleReturn[pos][CharName]} />\r\n                    <div className=\"imgNav\">\r\n                        {size > 1\r\n                            ?<button className=\"roleTogglePrev\" onClick={prev}>←</button>\r\n                            :<></>\r\n                        }\r\n                        <div className=\"selectionDots\">\r\n                            {arr}\r\n                            <br></br>\r\n                            <span className=\"index\"> {pos + 1} of {size} </span>  \r\n                        </div>\r\n                        {size > 1\r\n                            ?<button className=\"roleToggleNext\" onClick={next}>→</button>\r\n                            :<></>\r\n                        }\r\n                    </div>\r\n                    <h4>{roleReturn[String(pos)][CharName]}</h4>\r\n                    <div className=\"showsList\">\r\n                        {roleReturn[pos][Title] ?\r\n                        <>\r\n                        {/* <p>from </p> */}\r\n                        {roleReturn[pos][Title].map((title, n) => \r\n                            <div key={n}>\r\n                                <Link to={`/Show/${roleReturn[pos][ShowID][n]}/${title}`}>{title}</Link>\r\n                            </div>\r\n                        )}</>\r\n                            : <></>\r\n                        }\r\n                    </div> \r\n                    </>\r\n                    : <></>\r\n                }\r\n                \r\n            </div>\r\n\r\n        </div>\r\n     );\r\n\r\n     function sleep(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n\r\n     function handleRoles() {\r\n        combineRoles();\r\n        bubbleSort(roleReturn, roleReturn.length);\r\n        findPrimary();\r\n     }\r\n\r\n     function combineRoles() {\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        // console.log(roleReturn)\r\n        for (let i = 0; i < roleReturn.length; i++) {\r\n            if (typeof roleReturn[i][Title] == 'string') {\r\n                currRoleShowIDs = [roleReturn[i][ShowID]];\r\n                currRoleTitles = [roleReturn[i][Title]];\r\n                // var currRoleShowIDs = [roleReturn[i].ShowID];\r\n                // var currRoleTitles = [roleReturn[i].Title];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roleReturn[i][ShowID];\r\n                currRoleTitles = roleReturn[i][Title];\r\n            }\r\n            for (let p = i + 1; p < roleReturn.length; p++) {\r\n                if(roleReturn[i][CharID] === roleReturn[p][CharID]) {\r\n                    // console.log(currRoleShowIDs)\r\n                    currRoleShowIDs.push(roleReturn[p][ShowID]);\r\n                    currRoleTitles.push(roleReturn[p][Title]);\r\n                    // console.log(currRoleTitles)\r\n                    roleReturn.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            roleReturn[i][ShowID] = currRoleShowIDs;\r\n            roleReturn[i][Title] = currRoleTitles;\r\n        }\r\n        size = roleReturn.length;\r\n        ext = size - 10;\r\n        for (let i = 0; i < Math.min(size, 10); i++) {\r\n            if (i === posDot)\r\n                arr[i] = \"⦿\"\r\n            else\r\n                arr[i] = \"◦\";\r\n        }\r\n    }\r\n\r\n    function bubbleSort(roles, n)\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j, temp;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][Favorites] < roles[j + 1][Favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    temp = roles[j];\r\n                    roles[j] = roles[j + 1];\r\n                    roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function findPrimary() {\r\n        // if multiple roles\r\n        if (roleReturn.length > 1) {\r\n            var num = 0;\r\n            // console.log(roleReturn)\r\n            for (var k in roleReturn) {\r\n                // console.log(roleReturn[k])\r\n                // console.log(roleReturn[k][ShowID])\r\n                if (roleReturn[k][ShowID].includes(parseInt(showID))) {\r\n                    \r\n                    var temp = roleReturn[k];\r\n                    roleReturn.splice(k, 1);\r\n                    roleReturn.splice(num, 0, temp);\r\n                    num++;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n\r\n    //  function countRoles(roleReturn, n) {\r\n    //     let res = 0;\r\n    //     console.log(roleReturn)\r\n    //     for (let i = 0; i < n; i++) {\r\n    //         // skip ahead on duplicates\r\n    //         console.log(i)\r\n    //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\r\n    //             console.log(roleReturn[i+1])\r\n    //             i++;\r\n    //         }\r\n    //         res++;\r\n    //     }\r\n    //     return res;\r\n    //  }\r\n}\r\n \r\nexport default ShowRoleToggle;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}