{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";// import text from '../data/MasterV3.json'\nimport ShowRoleToggle from\"../components/ShowRoleToggle\";import ls from'local-storage';import axios from\"axios\";// import { getMAL } from \"../../../backend/dbFiles/dbOperation\";\n// require('dotenv').config();\n// console.log('Your environment variable MAL_CLIENT_ID has the value: ', process.env.MAL_CLIENT_ID);\n// import dbOperation from \"../data/dbFiles/dbOperation\"\n// import {user, myList} from Navbar\n// const ActorID   = 0;\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ActorName=1;// const Favorites = 2;\nvar ImageURL=3;// export const myList = text;\n// const actors = myList.actors;\nvar topActors=[118,185,65,672,869,34785,212,2,270,591,99,11817,8,87];var actorsLeft=[];resetLeft();var started=false;var Home=function Home(_ref){var user=_ref.user,myList=_ref.myList;var firstIndex;started?firstIndex=Math.trunc(Math.random()*topActors.length):firstIndex=0;// const firstActor = actors[topActors[firstIndex]];\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),actorID=_useState2[0],setActorID=_useState2[1];//topActors[firstIndex]);\nvar loading=[0,\"Loading\",0,\"https://media.istockphoto.com/id/1360005202/vector/loon-gavia.jpg?s=612x612&w=0&k=20&c=y6ZnKz2hLqGnFjNWuQpxwGCuqT3NYk4vz0MOtEyM3Bc=\"];// const loadingRoles = {ActorID: 0, ActorName: \"Loading\", Favorites: 0, ImageURL: \"https://media.istockphoto.com/id/1360005202/vector/loon-gavia.jpg?s=612x612&w=0&k=20&c=y6ZnKz2hLqGnFjNWuQpxwGCuqT3NYk4vz0MOtEyM3Bc=\"}\n// const [prev, setPrev] = useState();\nvar _useState3=useState(firstIndex),_useState4=_slicedToArray(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var _useState5=useState(loading),_useState6=_slicedToArray(_useState5,2),actor=_useState6[0],setActor=_useState6[1];var filterFlag=user.length>0;// const {loadedID} = useParams();\n// console.log(actor)\n// console.log(\"actor\", actor)\n// console.log(\"actorID\", actorID)\nuseEffect(function(){started=false;},[]);// useEffect(() => {\n// }, [user])\n// console.log(actor)\nvar getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(actID){var actorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/actor',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ActorID:actID})}).then(function(res){return res.json();});case 2:actorData=_context.sent;setActor(Object.values(actorData[0]));// setActorID(actorData[0][ActorID])\n// console.log(Object.values(actorData[0]));\nls.set('actor',actorData[0]);case 5:case\"end\":return _context.stop();}},_callee);}));return function getData(_x){return _ref2.apply(this,arguments);};}();// const getMALData = async() => {\n//     console.log(\"getting MAL data\")\n//     const malData = await fetch ('/mal', {\n//       method: 'POST',\n//       headers: {\n//         'content-type': 'application/json',\n//         'Accept': 'application/json'\n//       },\n//       body: JSON.stringify({\n//         Username: user\n//       })\n//     })\n//     .then(res => res.json());\n//     let temp = [];\n//     console.log(malData.data[0].node)\n//     for (let i in malData.data) {\n//         temp[i] = malData.data[i].node.id;\n//     }\n//     setMyList(temp)\n// }\nfunction nextActor(){return/*#__PURE__*/_jsx(\"p\",{children:\"Clcikeed!\"});// // setActor(loading)\n// started = true;\n// let temp = 0;\n// setIndex(Math.trunc(Math.random() * actorsLeft.length - 1));\n// if (actorsLeft.length > 0) {\n//     temp = actorsLeft.splice(index, 1)[0]\n//     // console.log(\"temp\", temp)\n//     setActorID(temp);\n// }\n// else {\n//     resetLeft();\n//     setIndex(Math.trunc(Math.random() * actorsLeft.length - 1));\n//     nextActor();\n// }\n// getData(temp);\n// // getRoleData();\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"A tool to display all the works of the voice actors you might know!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"Seiyu is a Japanese word for voice actor\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"All data obtained from \",/*#__PURE__*/_jsx(\"a\",{href:\"http://MyAnimeList.net\",children:\"MyAnimeList.net\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"viewer\",children:actor[0]!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ShowRoleToggle,{id:\"topActor\",actorID:actorID,actorName:actor[ActorName],flag:filterFlag,user:user,myList:myList}),/*#__PURE__*/_jsxs(\"div\",{id:\"homeRightPane\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"homeActorImg\",src:actor[ImageURL],alt:actor[ActorName]}),/*#__PURE__*/_jsx(\"button\",{className:\"nextActor\",onClick:nextActor,children:\"View Another!\"})]})]}):/*#__PURE__*/_jsx(\"button\",{className:\"firstActor\",onClick:nextActor,children:\"Take a Look!\"})})]});};function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});}function resetLeft(){for(var i=0;i<topActors.length;i++){actorsLeft[i]=topActors[i];}}export default Home;","map":{"version":3,"names":["useState","useEffect","useParams","ShowRoleToggle","ls","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ActorName","ImageURL","topActors","actorsLeft","resetLeft","started","Home","_ref","user","myList","firstIndex","Math","trunc","random","length","_useState","_useState2","_slicedToArray","actorID","setActorID","loading","_useState3","_useState4","index","setIndex","_useState5","_useState6","actor","setActor","filterFlag","getData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","actID","actorData","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","sent","Object","values","set","stop","_x","apply","arguments","nextActor","children","className","href","id","actorName","flag","src","alt","onClick","sleep","ms","Promise","resolve","setTimeout","i"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/pages/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n// import text from '../data/MasterV3.json'\r\nimport ShowRoleToggle from \"../components/ShowRoleToggle\";\r\nimport ls from 'local-storage';\r\nimport axios from \"axios\";\r\n// import { getMAL } from \"../../../backend/dbFiles/dbOperation\";\r\n// require('dotenv').config();\r\n// console.log('Your environment variable MAL_CLIENT_ID has the value: ', process.env.MAL_CLIENT_ID);\r\n// import dbOperation from \"../data/dbFiles/dbOperation\"\r\n// import {user, myList} from Navbar\r\n\r\n// const ActorID   = 0;\r\nconst ActorName = 1;\r\n// const Favorites = 2;\r\nconst ImageURL  = 3;\r\n\r\n// export const myList = text;\r\n// const actors = myList.actors;\r\nconst topActors = [118, 185, 65, 672, 869, 34785, 212, 2, 270, 591, 99, 11817, 8, 87]\r\nvar actorsLeft = [];\r\nresetLeft();\r\nvar started = false;\r\n\r\nconst Home = ({user, myList}) => {\r\n    \r\n    var firstIndex;\r\n    started ? firstIndex = Math.trunc(Math.random() * topActors.length)\r\n            : firstIndex = 0;\r\n    // const firstActor = actors[topActors[firstIndex]];\r\n    const [actorID, setActorID] = useState(0)//topActors[firstIndex]);\r\n    const loading = [ 0, \"Loading\", 0, \"https://media.istockphoto.com/id/1360005202/vector/loon-gavia.jpg?s=612x612&w=0&k=20&c=y6ZnKz2hLqGnFjNWuQpxwGCuqT3NYk4vz0MOtEyM3Bc=\"]\r\n    // const loadingRoles = {ActorID: 0, ActorName: \"Loading\", Favorites: 0, ImageURL: \"https://media.istockphoto.com/id/1360005202/vector/loon-gavia.jpg?s=612x612&w=0&k=20&c=y6ZnKz2hLqGnFjNWuQpxwGCuqT3NYk4vz0MOtEyM3Bc=\"}\r\n    // const [prev, setPrev] = useState();\r\n    const [index, setIndex] = useState(firstIndex);\r\n    const [actor, setActor] = useState(loading);\r\n    var filterFlag = user.length > 0;\r\n    // const {loadedID} = useParams();\r\n    // console.log(actor)\r\n\r\n    // console.log(\"actor\", actor)\r\n    // console.log(\"actorID\", actorID)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        started = false;\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n\r\n    // }, [user])\r\n\r\n    // console.log(actor)\r\n\r\n    const getData = async(actID) => {\r\n        // console.log(actor.actorID)\r\n        const actorData = await fetch ('/actor', {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'application/json',\r\n            'Accept': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            ActorID: actID\r\n          })\r\n        })\r\n        .then(res => res.json());\r\n        setActor(Object.values(actorData[0]));\r\n        // setActorID(actorData[0][ActorID])\r\n        // console.log(Object.values(actorData[0]));\r\n\r\n        ls.set('actor', actorData[0])\r\n    }\r\n\r\n    // const getMALData = async() => {\r\n    //     console.log(\"getting MAL data\")\r\n    //     const malData = await fetch ('/mal', {\r\n    //       method: 'POST',\r\n    //       headers: {\r\n    //         'content-type': 'application/json',\r\n    //         'Accept': 'application/json'\r\n    //       },\r\n    //       body: JSON.stringify({\r\n    //         Username: user\r\n    //       })\r\n    //     })\r\n    //     .then(res => res.json());\r\n    //     let temp = [];\r\n    //     console.log(malData.data[0].node)\r\n    //     for (let i in malData.data) {\r\n    //         temp[i] = malData.data[i].node.id;\r\n    //     }\r\n    //     setMyList(temp)\r\n    // }\r\n\r\n\r\n    function nextActor() {\r\n        return <p>Clcikeed!</p>\r\n\r\n\r\n\r\n\r\n        // // setActor(loading)\r\n        // started = true;\r\n        // let temp = 0;\r\n        // setIndex(Math.trunc(Math.random() * actorsLeft.length - 1));\r\n        // if (actorsLeft.length > 0) {\r\n        //     temp = actorsLeft.splice(index, 1)[0]\r\n        //     // console.log(\"temp\", temp)\r\n        //     setActorID(temp);\r\n        // }\r\n        // else {\r\n        //     resetLeft();\r\n        //     setIndex(Math.trunc(Math.random() * actorsLeft.length - 1));\r\n        //     nextActor();\r\n        // }\r\n        // getData(temp);\r\n        // // getRoleData();\r\n    }\r\n    \r\n\r\n\r\n    return ( \r\n        <div className=\"home\">            \r\n            <div>\r\n                <h2>A tool to display all the works of the voice actors you might know!</h2>\r\n                <br></br>\r\n                <h5>Seiyu is a Japanese word for voice actor</h5>\r\n                <br></br>\r\n                <h6>All data obtained from <a href=\"http://MyAnimeList.net\">MyAnimeList.net</a></h6>\r\n                {/* <p>{user}</p> */}\r\n               \r\n            </div>\r\n            <div className=\"viewer\">\r\n                {/* {console.log(\"actorID \", actorID)} */}\r\n                {/* {combineRoles()} */}\r\n                {actor[0] !== 0\r\n                    ?<><ShowRoleToggle id=\"topActor\" actorID={actorID} actorName={actor[ActorName]} flag={filterFlag} user={user} myList={myList}/>\r\n                        <div id=\"homeRightPane\">\r\n                            <img className=\"homeActorImg\" src={actor[ImageURL]} alt={actor[ActorName]}></img>\r\n                            <button className=\"nextActor\" onClick={nextActor}>View Another!</button>\r\n                        </div></>\r\n                    :<button className=\"firstActor\" onClick={nextActor}>Take a Look!</button>\r\n                }\r\n                {/* {console.log(\"img \", actor.img)} */}\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nfunction resetLeft() {\r\n    for(let i = 0; i < topActors.length; i++) {\r\n        actorsLeft[i] = topActors[i];\r\n    }\r\n}    \r\n \r\nexport default Home;"],"mappings":"mcAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAC5C;AACA,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,EAAE,KAAM,eAAe,CAC9B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB;AACA;AACA;AACA;AACA;AAEA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACA,GAAM,CAAAC,SAAS,CAAG,CAAC,CACnB;AACA,GAAM,CAAAC,QAAQ,CAAI,CAAC,CAEnB;AACA;AACA,GAAM,CAAAC,SAAS,CAAG,CAAC,GAAG,CAAE,GAAG,CAAE,EAAE,CAAE,GAAG,CAAE,GAAG,CAAE,KAAK,CAAE,GAAG,CAAE,CAAC,CAAE,GAAG,CAAE,GAAG,CAAE,EAAE,CAAE,KAAK,CAAE,CAAC,CAAE,EAAE,CAAC,CACrF,GAAI,CAAAC,UAAU,CAAG,EAAE,CACnBC,SAAS,CAAC,CAAC,CACX,GAAI,CAAAC,OAAO,CAAG,KAAK,CAEnB,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAAC,IAAA,CAAuB,IAAlB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAEvB,GAAI,CAAAC,UAAU,CACdL,OAAO,CAAGK,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGX,SAAS,CAACY,MAAM,CAAC,CACzDJ,UAAU,CAAG,CAAC,CACxB;AACA,IAAAK,SAAA,CAA8B3B,QAAQ,CAAC,CAAC,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAAe;AACzC,GAAM,CAAAI,OAAO,CAAG,CAAE,CAAC,CAAE,SAAS,CAAE,CAAC,CAAE,qIAAqI,CAAC,CACzK;AACA;AACA,IAAAC,UAAA,CAA0BjC,QAAQ,CAACsB,UAAU,CAAC,CAAAY,UAAA,CAAAL,cAAA,CAAAI,UAAA,IAAvCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA0BrC,QAAQ,CAACgC,OAAO,CAAC,CAAAM,UAAA,CAAAT,cAAA,CAAAQ,UAAA,IAApCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAI,CAAAG,UAAU,CAAGrB,IAAI,CAACM,MAAM,CAAG,CAAC,CAChC;AACA;AAEA;AACA;AAIAzB,SAAS,CAAC,UAAM,CACZgB,OAAO,CAAG,KAAK,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN;AAEA;AAEA;AAEA,GAAM,CAAAyB,OAAO,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,KAAK,MAAAC,SAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAEC,CAAAC,KAAK,CAAE,QAAQ,CAAE,CACvCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACZ,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,OAAO,CAAEb,KACX,CAAC,CACH,CAAC,CAAC,CACDc,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,QAVlBf,SAAS,CAAAG,QAAA,CAAAa,IAAA,CAWfzB,QAAQ,CAAC0B,MAAM,CAACC,MAAM,CAAClB,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CACrC;AACA;AAEA7C,EAAE,CAACgE,GAAG,CAAC,OAAO,CAAEnB,SAAS,CAAC,CAAC,CAAC,CAAC,yBAAAG,QAAA,CAAAiB,IAAA,MAAAtB,OAAA,GAChC,kBAlBK,CAAAL,OAAOA,CAAA4B,EAAA,SAAA3B,KAAA,CAAA4B,KAAA,MAAAC,SAAA,OAkBZ,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,QAAS,CAAAC,SAASA,CAAA,CAAG,CACjB,mBAAOlE,IAAA,MAAAmE,QAAA,CAAG,WAAS,CAAG,CAAC,CAKvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAIA,mBACIjE,KAAA,QAAKkE,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBjE,KAAA,QAAAiE,QAAA,eACInE,IAAA,OAAAmE,QAAA,CAAI,qEAAmE,CAAI,CAAC,cAC5EnE,IAAA,QAAQ,CAAC,cACTA,IAAA,OAAAmE,QAAA,CAAI,0CAAwC,CAAI,CAAC,cACjDnE,IAAA,QAAQ,CAAC,cACTE,KAAA,OAAAiE,QAAA,EAAI,yBAAuB,cAAAnE,IAAA,MAAGqE,IAAI,CAAC,wBAAwB,CAAAF,QAAA,CAAC,iBAAe,CAAG,CAAC,EAAI,CAAC,EAGnF,CAAC,cACNnE,IAAA,QAAKoE,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAGlBnC,KAAK,CAAC,CAAC,CAAC,GAAK,CAAC,cACV9B,KAAA,CAAAE,SAAA,EAAA+D,QAAA,eAAEnE,IAAA,CAACJ,cAAc,EAAC0E,EAAE,CAAC,UAAU,CAAC/C,OAAO,CAAEA,OAAQ,CAACgD,SAAS,CAAEvC,KAAK,CAAC3B,SAAS,CAAE,CAACmE,IAAI,CAAEtC,UAAW,CAACrB,IAAI,CAAEA,IAAK,CAACC,MAAM,CAAEA,MAAO,CAAC,CAAC,cAC3HZ,KAAA,QAAKoE,EAAE,CAAC,eAAe,CAAAH,QAAA,eACnBnE,IAAA,QAAKoE,SAAS,CAAC,cAAc,CAACK,GAAG,CAAEzC,KAAK,CAAC1B,QAAQ,CAAE,CAACoE,GAAG,CAAE1C,KAAK,CAAC3B,SAAS,CAAE,CAAM,CAAC,cACjFL,IAAA,WAAQoE,SAAS,CAAC,WAAW,CAACO,OAAO,CAAET,SAAU,CAAAC,QAAA,CAAC,eAAa,CAAQ,CAAC,EACvE,CAAC,EAAE,CAAC,cACZnE,IAAA,WAAQoE,SAAS,CAAC,YAAY,CAACO,OAAO,CAAET,SAAU,CAAAC,QAAA,CAAC,cAAY,CAAQ,CAAC,CAG5E,CAAC,EACL,CAAC,CAEd,CAAC,CAED,QAAS,CAAAS,KAAKA,CAACC,EAAE,CAAE,CACf,MAAO,IAAI,CAAAC,OAAO,CAAC,SAAAC,OAAO,QAAI,CAAAC,UAAU,CAACD,OAAO,CAAEF,EAAE,CAAC,GAAC,CAC1D,CAEA,QAAS,CAAApE,SAASA,CAAA,CAAG,CACjB,IAAI,GAAI,CAAAwE,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG1E,SAAS,CAACY,MAAM,CAAE8D,CAAC,EAAE,CAAE,CACtCzE,UAAU,CAACyE,CAAC,CAAC,CAAG1E,SAAS,CAAC0E,CAAC,CAAC,CAChC,CACJ,CAEA,cAAe,CAAAtE,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}