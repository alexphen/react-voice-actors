{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from\"react\";import{useParams,Link}from\"react-router-dom\";import HomeChar from\"../components/HomeChar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _=require('lodash');var CharID=0;var CharName=1;var Favorites=2;var ImageURL=3;// const ActorID = 4;\nvar ShowID=5;var Title=7;var rank=8;var SPEED=20;var intID;var started=false;var HomeRoles=function HomeRoles(_ref){var actorID=_ref.actorID,actorName=_ref.actorName,actorImg=_ref.actorImg,showID=_ref.showID,flag=_ref.flag,user=_ref.user,myList=_ref.myList,cache=_ref.cache;// console.log(\"actorID received \", actorID)\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),roleReturn=_useState2[0],setRoleReturn=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),direction=_useState4[0],setDirection=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),scrolling=_useState6[0],setScrolling=_useState6[1];// const [scroller, setScroller] = useState();\nvar prevActor=useRef(actorID);var prevUser=useRef(user);// console.log(\"direction\", direction)\n// console.log(actorID)\n// console.log(user, \"in Toggle\")\nvar filterFlag=user.length>0;var rolesContainer=document.getElementById(\"rolesContainer\");useEffect(function(){getRoles(actorID);},[]);useEffect(function(){// console.log(1, prevUser, 2, user)\nif(!_.isEqual(prevUser.current,user)){cache={};getRoles(actorID);}prevUser.current=user;// if (!_.isEqual(prevUser, user)) {\n//     console.log(\"changed\")\n//     getRoles(actorID)\n//     cache = {};\n// }\n},[user]);useEffect(function(){var tempDir=direction;started=true;setTimeout(function(){// console.log(\"rolescontainer\")\nresumeScroll(tempDir);// console.log(started)\n},1000);},[rolesContainer]);useEffect(function(){// debugger\nif(!_.isEqual(prevActor.current,actorID)){// console.log(\"roles [actorID]\")\nconsole.log(started);if(started){stopScroll();}setDirection(1);getRoles(actorID);if(rolesContainer){rolesContainer.scrollTo({top:0,left:0,behavior:\"instant\"});}setTimeout(function(){resumeScroll(1);},1300);}prevActor.current=actorID;},[actorID]);// useEffect(() => {\n//     getRoles(actorID);\n// }, []);\nvar getRoles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(actID){var roleData,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(cache&&cache[actID])){_context.next=4;break;}setRoleReturn(cache[actID]);_context.next=11;break;case 4:cache[actorID]=[];_context.next=7;return fetch('/api/roles',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ActorID:actID,myList:myList,flag:filterFlag})}).then(function(res){return res.json();});case 7:roleData=_context.sent;// console.log(roleData)\nfor(i in roleData){roleData[i]=Object.values(roleData[i]);}setRoleReturn(Object.values(roleData));// console.log(Object.values(roleData))\ncache[actorID]=Object.values(roleData);case 11:case\"end\":return _context.stop();}},_callee);}));return function getRoles(_x){return _ref2.apply(this,arguments);};}();var arr=[];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homeRoleGallery\"// onMouseOver={stopScroll}\n// onMouseOut={resumeScroll}\n,children:[handleRoles(),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../assets/left.png\"),onClick:jumpBack// onMouseEnter={() => resumeScroll(-1)}\n,onMouseEnter:scrollBack}),/*#__PURE__*/_jsx(\"div\",{id:\"rolesContainer\",className:\"homeRoleCarousel\",onMouseOver:stopScroll,onTouchStart:stopScroll// onMouseOut={resumeScroll}\n,children:roleReturn.map(function(role,i){return/*#__PURE__*/_jsx(HomeChar,{charName:role[CharName],charImg:role[ImageURL],topTitleID:role[ShowID][0],topTitle:role[Title][0]},i);})}),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../assets/right.png\"),onClick:jumpForward// onMouseEnter={() => resumeScroll(1)}>\n,onMouseEnter:scrollForward})]}),/*#__PURE__*/_jsx(\"img\",{src:scrolling?require('../assets/pause.png'):require('../assets/play.png'),id:\"homePlayButton\",onClick:pausePlay})]});function scrollBack(){stopScroll();setScrolling(true);setDirection(-1);intID=window.self.setInterval(function(){if(rolesContainer){if(rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function scrollForward(){stopScroll();setScrolling(true);setDirection(1);intID=window.self.setInterval(function(){if(rolesContainer){if(rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function pausePlay(){if(scrolling){stopScroll();}else{resumeScroll(direction);}}function jumpBack(){stopScroll();if(rolesContainer){var distance=rolesContainer.clientWidth;var tempDir=-1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:-distance,behavior:\"smooth\"});}}function jumpForward(){stopScroll();if(rolesContainer){var distance=rolesContainer.clientWidth;var tempDir=1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:distance,behavior:\"smooth\"});}}function stopScroll(){console.log(\"stop\");clearInterval(intID);setScrolling(false);}function resumeScroll(dir){// console.log(started)\nsetScrolling(true);var tempDir=dir;setDirection(dir);clearInterval(intID);intID=window.self.setInterval(function(){if(rolesContainer&&rolesContainer.scrollWidth>0){// console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\n// move right\nif(tempDir>0&&rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}// move left\nelse if(tempDir<0&&rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}// at an end\nelse{// stopScroll();\ntempDir=-tempDir;setDirection(tempDir);}}},100);// console.log(\"start\")\n// intID = window.self.setInterval(() => {\n//     if (rolesContainer) {\n//         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n//             console.log(SPEED, direction)\n//             rolesContainer.scrollBy({\n//                 top: 0,\n//                 left: SPEED*direction,\n//                 behavior: \"smooth\"\n//             })\n//         }\n//     }\n// }, 100);\n}function handleRoles(){combineRoles();bubbleSort(roleReturn,roleReturn.length);findPrimary();}function combineRoles(){var currRoleShowIDs=[];var currRoleTitles=[];var currRoleRanks=[];// console.log(roleReturn)\nfor(var i=0;i<roleReturn.length;i++){// If Title is currently a String, turn it into an array\nif(typeof roleReturn[i][Title]=='string'){currRoleShowIDs=[roleReturn[i][ShowID]];currRoleTitles=[roleReturn[i][Title]];}else{currRoleShowIDs=roleReturn[i][ShowID];currRoleTitles=roleReturn[i][Title];}if(typeof roleReturn[i][rank]=='number'){currRoleRanks=[roleReturn[i][rank]];}else{currRoleRanks=roleReturn[i][rank];}// \nfor(var p=i+1;p<roleReturn.length;p++){if(roleReturn[i][CharID]===roleReturn[p][CharID]){// console.log(currRoleTitles, currRoleRanks)\ncurrRoleShowIDs.push(roleReturn[p][ShowID]);currRoleTitles.push(String(roleReturn[p][Title]));currRoleRanks.push(roleReturn[p][rank]);roleReturn.splice(p,1);p--;}else{i=p-1;break;}}// console.log(currRoleTitles, currRoleRanks)\nvar swapped;for(var k=0;k<currRoleShowIDs.length;k++){swapped=false;for(var m=0;m<currRoleShowIDs.length;m++){if(currRoleRanks[m]>currRoleRanks[m+1]){swap(currRoleRanks,m,m+1);swap(currRoleShowIDs,m,m+1);swap(currRoleTitles,m,m+1);swapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}roleReturn[i][ShowID]=currRoleShowIDs;roleReturn[i][Title]=currRoleTitles;roleReturn[i][rank]=currRoleRanks;}}function swap(arr,i1,i2){var temp=arr[i1];arr[i1]=arr[i2];arr[i2]=temp;}function bubbleSort(roles,n){// roleOrder = [];\n// for (var i in roles) {\n//     roleOrder.push(i)\n// }\nvar i,j;var swapped;for(i=0;i<n-1;i++){swapped=false;for(j=0;j<n-i-1;j++){if(roles[j][Favorites]<roles[j+1][Favorites]){// Swap arr[j] and arr[j+1]\nswap(roles,j,j+1);// temp = roles[j];\n// roles[j] = roles[j + 1];\n// roles[j + 1] = temp;\nswapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}}function findPrimary(){// if multiple roles\nif(roleReturn.length>1){var num=0;// console.log(roleReturn)\nfor(var k in roleReturn){// console.log(roleReturn[k])\n// console.log(roleReturn[k][ShowID])\nif(roleReturn[k][ShowID].includes(parseInt(showID))){var temp=roleReturn[k];roleReturn.splice(k,1);roleReturn.splice(num,0,temp);num++;}}}}//  function countRoles(roleReturn, n) {\n//     let res = 0;\n//     console.log(roleReturn)\n//     for (let i = 0; i < n; i++) {\n//         // skip ahead on duplicates\n//         console.log(i)\n//         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\n//             console.log(roleReturn[i+1])\n//             i++;\n//         }\n//         res++;\n//     }\n//     return res;\n//  }\n};export default HomeRoles;","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Link","HomeChar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_","require","CharID","CharName","Favorites","ImageURL","ShowID","Title","rank","SPEED","intID","started","HomeRoles","_ref","actorID","actorName","actorImg","showID","flag","user","myList","cache","_useState","_useState2","_slicedToArray","roleReturn","setRoleReturn","_useState3","_useState4","direction","setDirection","_useState5","_useState6","scrolling","setScrolling","prevActor","prevUser","filterFlag","length","rolesContainer","document","getElementById","getRoles","isEqual","current","tempDir","setTimeout","resumeScroll","console","log","stopScroll","scrollTo","top","left","behavior","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","actID","roleData","i","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","sent","Object","values","stop","_x","apply","arguments","arr","children","className","handleRoles","src","onClick","jumpBack","onMouseEnter","scrollBack","id","onMouseOver","onTouchStart","map","role","charName","charImg","topTitleID","topTitle","jumpForward","scrollForward","pausePlay","window","self","setInterval","scrollLeft","scrollBy","scrollWidth","clientWidth","distance","clearInterval","dir","combineRoles","bubbleSort","findPrimary","currRoleShowIDs","currRoleTitles","currRoleRanks","p","push","String","splice","swapped","k","m","swap","i1","i2","temp","roles","n","j","num","includes","parseInt"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/components/HomeRoles.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport HomeChar from \"../components/HomeChar\";\r\n\r\n\r\nconst _ = require('lodash')\r\n\r\nconst CharID    = 0;\r\nconst CharName  = 1;\r\nconst Favorites = 2;\r\nconst ImageURL  = 3;\r\n// const ActorID = 4;\r\nconst ShowID    = 5;\r\nconst Title     = 7;\r\nconst rank      = 8;\r\n\r\nconst SPEED = 20;\r\n\r\nvar intID;\r\nvar started = false;\r\n\r\n\r\nconst HomeRoles = ({actorID, actorName, actorImg, showID, flag, user, myList, cache}) => {\r\n\r\n    // console.log(\"actorID received \", actorID)\r\n    \r\n    const [roleReturn, setRoleReturn] = useState([]);\r\n    const [direction, setDirection] = useState(1);\r\n    const [scrolling, setScrolling] = useState(false);\r\n    // const [scroller, setScroller] = useState();\r\n    const prevActor = useRef(actorID);\r\n    const prevUser = useRef(user);\r\n\r\n\r\n    // console.log(\"direction\", direction)\r\n    // console.log(actorID)\r\n    // console.log(user, \"in Toggle\")\r\n    var filterFlag = user.length > 0;\r\n\r\n    const rolesContainer = document.getElementById(\"rolesContainer\");\r\n    \r\n\r\n    useEffect(() => {\r\n        getRoles(actorID);\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        // console.log(1, prevUser, 2, user)\r\n        if (!_.isEqual(prevUser.current, user)) {\r\n            cache = {};\r\n            getRoles(actorID);\r\n        }\r\n        prevUser.current = user\r\n        // if (!_.isEqual(prevUser, user)) {\r\n        //     console.log(\"changed\")\r\n        //     getRoles(actorID)\r\n        //     cache = {};\r\n        // }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        let tempDir = direction;\r\n        started = true;\r\n        setTimeout(() => {\r\n            // console.log(\"rolescontainer\")\r\n            resumeScroll(tempDir);\r\n            // console.log(started)\r\n        }, 1000) \r\n    }, [rolesContainer]);\r\n\r\n    useEffect(() => {\r\n        // debugger\r\n        if (!_.isEqual(prevActor.current, actorID)) {\r\n            // console.log(\"roles [actorID]\")\r\n            console.log(started)\r\n            if (started) {\r\n                stopScroll();\r\n            }\r\n            setDirection(1);\r\n            getRoles(actorID);\r\n            if (rolesContainer) {\r\n                rolesContainer.scrollTo({\r\n                    top: 0,\r\n                    left: 0,\r\n                    behavior: \"instant\"\r\n                })\r\n            }\r\n            setTimeout(() => {\r\n                resumeScroll(1);\r\n            }, 1300);\r\n        }\r\n        prevActor.current = actorID;\r\n    }, [actorID]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     getRoles(actorID);\r\n    // }, []);\r\n    \r\n    const getRoles = async(actID) => {\r\n        // console.log(\"rioling\")\r\n        if (cache && cache[actID]) {\r\n            setRoleReturn(cache[actID])\r\n        }\r\n        else {\r\n            cache[actorID] = [];\r\n            const roleData = await fetch ('/api/roles', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    ActorID: actID,\r\n                    myList: myList,\r\n                    flag: filterFlag\r\n                })\r\n            }).then(res => res.json())\r\n            // console.log(roleData)\r\n            for (let i in roleData) {\r\n                roleData[i] = Object.values(roleData[i])\r\n            }\r\n            setRoleReturn(Object.values(roleData));\r\n            // console.log(Object.values(roleData))\r\n            cache[actorID] = Object.values(roleData)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const arr = [];\r\n   \r\n    \r\n    return ( \r\n        <>\r\n            <div className=\"homeRoleGallery\" \r\n                // onMouseOver={stopScroll}\r\n                // onMouseOut={resumeScroll}\r\n                >  \r\n                {handleRoles()}\r\n                {/* <- Cycling Roles -> */}\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../assets/left.png\")} \r\n                        onClick={jumpBack} \r\n                        // onMouseEnter={() => resumeScroll(-1)}\r\n                        onMouseEnter={scrollBack}\r\n                    ></img>\r\n                    {/*onMouseDown={scrollBack} onMouseUp={stopScroll}>*/}\r\n                    <div\r\n                        id=\"rolesContainer\"\r\n                        className=\"homeRoleCarousel\"\r\n                        onMouseOver={stopScroll}\r\n                        onTouchStart={stopScroll}\r\n                        // onMouseOut={resumeScroll}\r\n                        >\r\n                    {roleReturn.map((role, i) =>\r\n                        <HomeChar key={i} \r\n                            charName={role[CharName]} \r\n                            charImg={role[ImageURL]} \r\n                            topTitleID={role[ShowID][0]} \r\n                            topTitle={role[Title][0]}/>\r\n                    )}\r\n                    {/* <div className=\"homeRoleCarousel js-flickity flickity-enabled is-draggable\"\r\n                        data-flickity-options='{ \"cellAlign\": \"left\", \"contain\": true }'>\r\n                        <div className=\"flickity-viewport\">\r\n                            <div className=\"flickity-slider\">\r\n                                {roleReturn.map((role, i) =>\r\n                                    <HomeChar key={i} charName={role[CharName]} charImg={role[ImageURL]} topTitleID={role[ShowID][0]} topTitle={role[Title][0]}/>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                    </div>\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../assets/right.png\")} \r\n                        onClick={jumpForward} \r\n                        // onMouseEnter={() => resumeScroll(1)}>\r\n                        onMouseEnter={scrollForward}\r\n                    ></img> \r\n                    {/*</>onMouseDown={scrollForward} onMouseUp={stopScroll}>*/}\r\n            </div>\r\n            <img src={scrolling ? require('../assets/pause.png') : require('../assets/play.png')} id=\"homePlayButton\" onClick={pausePlay}></img>\r\n        </>\r\n     );\r\n\r\n     function scrollBack() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(-1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if (rolesContainer.scrollLeft > 0) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: -SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false);\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function scrollForward() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if(rolesContainer.scrollLeft < rolesContainer.scrollWidth - rolesContainer.clientWidth) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false)\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n    function pausePlay() {\r\n        if (scrolling) {\r\n            stopScroll();\r\n        }\r\n        else {\r\n            resumeScroll(direction);\r\n        }\r\n    }\r\n\r\n    function jumpBack() {\r\n    stopScroll();\r\n    if (rolesContainer) {\r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = -1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: -distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function jumpForward() {\r\n    stopScroll();\r\n    if (rolesContainer) {            \r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = 1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function stopScroll() {\r\n        console.log(\"stop\")\r\n        clearInterval(intID);\r\n        setScrolling(false);\r\n    }\r\n\r\n    function resumeScroll(dir) {\r\n        // console.log(started)\r\n        setScrolling(true);\r\n        let tempDir = dir;\r\n        setDirection(dir);\r\n        clearInterval(intID);\r\n        intID = window.self.setInterval(() => {\r\n        if (rolesContainer && rolesContainer.scrollWidth > 0) {\r\n            // console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\r\n            // move right\r\n            if (tempDir > 0 && rolesContainer.scrollLeft < (rolesContainer.scrollWidth - rolesContainer.clientWidth)) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // move left\r\n            else if (tempDir < 0 && rolesContainer.scrollLeft > 0) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: -SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // at an end\r\n            else {\r\n                // stopScroll();\r\n                tempDir = -tempDir;\r\n                setDirection(tempDir);\r\n            }\r\n        }\r\n    }, 100);\r\n\r\n    // console.log(\"start\")\r\n    // intID = window.self.setInterval(() => {\r\n    //     if (rolesContainer) {\r\n    //         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n    //             console.log(SPEED, direction)\r\n    //             rolesContainer.scrollBy({\r\n    //                 top: 0,\r\n    //                 left: SPEED*direction,\r\n    //                 behavior: \"smooth\"\r\n    //             })\r\n    //         }\r\n    //     }\r\n    // }, 100);\r\n    }\r\n\r\n    function handleRoles() {\r\n    combineRoles();\r\n    bubbleSort(roleReturn, roleReturn.length);\r\n    findPrimary();\r\n    }\r\n\r\n     function combineRoles() {\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        var currRoleRanks = [];\r\n        // console.log(roleReturn)\r\n        for (let i = 0; i < roleReturn.length; i++) {\r\n            // If Title is currently a String, turn it into an array\r\n            if (typeof roleReturn[i][Title] == 'string') {\r\n                currRoleShowIDs = [roleReturn[i][ShowID]];\r\n                currRoleTitles  = [roleReturn[i][Title]];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roleReturn[i][ShowID];\r\n                currRoleTitles  = roleReturn[i][Title];\r\n            }\r\n            if (typeof roleReturn[i][rank] == 'number') {\r\n                currRoleRanks = [roleReturn[i][rank]];\r\n            } else {\r\n                currRoleRanks = roleReturn[i][rank];                \r\n            }\r\n\r\n            // \r\n            for (let p = i + 1; p < roleReturn.length; p++) {\r\n                if(roleReturn[i][CharID] === roleReturn[p][CharID]) {\r\n                    // console.log(currRoleTitles, currRoleRanks)\r\n                    currRoleShowIDs.push(roleReturn[p][ShowID]);\r\n                    currRoleTitles.push(String(roleReturn[p][Title]));\r\n                    currRoleRanks.push(roleReturn[p][rank]);\r\n                    roleReturn.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            // console.log(currRoleTitles, currRoleRanks)\r\n\r\n            var swapped;\r\n            for (let k = 0; k < currRoleShowIDs.length; k++) {\r\n                swapped = false\r\n                for (let m = 0; m < currRoleShowIDs.length; m++) {\r\n                    if (currRoleRanks[m] > currRoleRanks[m+1]) \r\n                    {\r\n                        swap(currRoleRanks, m, m+1)\r\n                        swap(currRoleShowIDs, m, m+1)\r\n                        swap(currRoleTitles, m, m+1)\r\n                        swapped = true;\r\n                    }\r\n                }\r\n                // IF no two elements were \r\n                // swapped by inner loop, then break\r\n                if (swapped === false)\r\n                break;\r\n            }\r\n\r\n            roleReturn[i][ShowID] = currRoleShowIDs;\r\n            roleReturn[i][Title] = currRoleTitles;\r\n            roleReturn[i][rank] = currRoleRanks;\r\n        }\r\n    }\r\n\r\n    function swap(arr, i1, i2) {\r\n        var temp = arr[i1];\r\n        arr[i1] = arr[i2];\r\n        arr[i2] = temp;\r\n    }\r\n\r\n    function bubbleSort(roles, n)\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][Favorites] < roles[j + 1][Favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    swap(roles, j, j+1)\r\n                    // temp = roles[j];\r\n                    // roles[j] = roles[j + 1];\r\n                    // roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function findPrimary() {\r\n        // if multiple roles\r\n        if (roleReturn.length > 1) {\r\n            var num = 0;\r\n            // console.log(roleReturn)\r\n            for (var k in roleReturn) {\r\n                // console.log(roleReturn[k])\r\n                // console.log(roleReturn[k][ShowID])\r\n                if (roleReturn[k][ShowID].includes(parseInt(showID))) {\r\n                    \r\n                    var temp = roleReturn[k];\r\n                    roleReturn.splice(k, 1);\r\n                    roleReturn.splice(num, 0, temp);\r\n                    num++;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n\r\n    //  function countRoles(roleReturn, n) {\r\n    //     let res = 0;\r\n    //     console.log(roleReturn)\r\n    //     for (let i = 0; i < n; i++) {\r\n    //         // skip ahead on duplicates\r\n    //         console.log(i)\r\n    //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\r\n    //             console.log(roleReturn[i+1])\r\n    //             i++;\r\n    //         }\r\n    //         res++;\r\n    //     }\r\n    //     return res;\r\n    //  }\r\n}\r\n \r\nexport default HomeRoles;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}