{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aphen\\\\OneDrive\\\\Documents\\\\GitHub\\\\react-voice-actors\\\\frontend\\\\src\\\\components\\\\HomeRoles.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport HomeChar from \"../components/HomeChar\";\nimport \"./flickity.pkgd.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst _ = require('lodash');\nconst CharID = 0;\nconst CharName = 1;\nconst Favorites = 2;\nconst ImageURL = 3;\n// const ActorID = 4;\nconst ShowID = 5;\nconst Title = 7;\nconst rank = 8;\nconst SPEED = 50;\nvar intID;\nvar started = false;\nconst HomeRoles = ({\n  actorID,\n  actorName,\n  actorImg,\n  showID,\n  flag,\n  user,\n  myList,\n  cache\n}) => {\n  _s();\n  // console.log(\"actorID received \", actorID)\n\n  const [pos, setPos] = useState(0);\n  const [posDot, setPosDot] = useState(pos);\n  const [roleReturn, setRoleReturn] = useState([]);\n  const [direction, setDirection] = useState(1);\n  // const [scroller, setScroller] = useState();\n  const prevActor = useRef(0);\n  const prevUser = useRef(user);\n  console.log(\"direction\", direction);\n  console.log(actorID);\n  // console.log(user, \"in Toggle\")\n  var filterFlag = user.length > 0;\n  // const [roles, setRoles] = useState([]);\n  var size;\n  // var prevActor;\n\n  // const usePrevious = (value) => {\n  //     const ref = useRef()\n  //     useEffect(() => {\n  //         console.log(\"vallue\")\n  //         ref.current = value;\n  //     }, [value])\n  //     return ref.current;\n  // }\n\n  const rolesContainerWidth = 600;\n  const rolesContainer = document.getElementById(\"rolesContainer\");\n\n  // useEffect(() => {\n  //     console.log(\"changed dir\");\n  // }, [direction])\n\n  // useEffect(() => {\n  //     // intID = window.self.setInterval(() => {\n  //     //     console.log(\"speed change\")\n  //     //     if (rolesContainer) {\n  //     //         console.log(speed)\n  //     //         // if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n  //     //             // console.log(rolesContainer.scrollLeft)\n  //     //             rolesContainer.scrollBy({\n  //     //                 top: 0,\n  //     //                 left: speed,\n  //     //                 behavior: \"smooth\"\n  //     //             })\n  //     //         // }\n  //     //     }\n  //     // }, 100);\n  // }, [speed]);\n\n  useEffect(() => {\n    getRoles(actorID);\n  }, []);\n  useEffect(() => {\n    // console.log(1, prevUser, 2, user)\n    if (!_.isEqual(prevUser.current, user)) {\n      // console.log(\"roles [user]\")\n      cache = {};\n      getRoles(actorID);\n    }\n    prevUser.current = user;\n    // if (!_.isEqual(prevUser, user)) {\n    //     console.log(\"changed\")\n    //     getRoles(actorID)\n    //     cache = {};\n    // }\n  }, [user]);\n  useEffect(() => {\n    console.log(started);\n    setTimeout(() => {\n      intID = window.self.setInterval(() => {\n        if (rolesContainer) {\n          console.log(rolesContainer.scrollLeft, 0.95 * (rolesContainer.scrollWidth - rolesContainer.clientWidth));\n          if (direction > 0 && rolesContainer.scrollLeft < 0.95 * (rolesContainer.scrollWidth - rolesContainer.clientWidth)) {\n            rolesContainer.scrollBy({\n              top: 0,\n              left: SPEED,\n              behavior: \"smooth\"\n            });\n          } else {\n            stopScroll();\n            rolesContainer.scrollBy({\n              top: 0,\n              left: -SPEED,\n              behavior: \"smooth\"\n            });\n          }\n        }\n      }, 100);\n    }, 1000);\n  }, [rolesContainer]);\n  useEffect(() => {\n    // debugger\n    if (!_.isEqual(prevActor.current, actorID)) {\n      // console.log(\"roles [actorID]\")\n      stopScroll();\n      setDirection(1);\n      getRoles(actorID);\n      if (rolesContainer) {\n        rolesContainer.scrollTo({\n          top: 0,\n          left: 0,\n          behavior: \"instant\"\n        });\n      }\n      setTimeout(() => {\n        resumeScroll();\n      }, 1300);\n    }\n    prevActor.current = actorID;\n  }, [actorID]);\n\n  // useEffect(() => {\n  //     getRoles(actorID);\n  // }, []);\n\n  const getRoles = async actID => {\n    // console.log(1, user, 2, prevUser)\n    if (cache && cache[actID]) {\n      setRoleReturn(cache[actID]);\n    } else {\n      const roleData = await fetch('/api/roles', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          ActorID: actID,\n          myList: myList,\n          flag: filterFlag\n        })\n      }).then(res => res.json());\n      // console.log(roleData)\n      for (let i in roleData) {\n        roleData[i] = Object.values(roleData[i]);\n      }\n      setRoleReturn(Object.values(roleData));\n      // console.log(Object.values(roleData))\n      cache[actorID] = Object.values(roleData);\n    }\n  };\n  function prev() {\n    // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\n\n    if (pos === 0) {\n      setPos(size - 1);\n      setPosDot(Math.min(9, size - 1));\n    } else if (pos > 7) {\n      if (posDot > 7) setPosDot(posDot - 1);\n      setPos(pos - 1);\n    } else {\n      setPos(pos - 1);\n      setPosDot(posDot - 1);\n    }\n  }\n  function next() {\n    // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\n    // end of line\n    if (pos === size - 1) {\n      setPos(0);\n      setPosDot(0);\n    }\n    // pause at buffer\n    else if (posDot === 7 && size - pos > 3) {\n      setPos(pos + 1);\n    }\n    // press on\n    else {\n      setPos(pos + 1);\n      setPosDot(posDot + 1);\n      // console.log('posDot', posDot)\n      // console.log('pos', pos)\n      // console.log('size', size)\n      // console.log('rr', roleReturn)\n    }\n  }\n\n  const arr = [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homeRoleGallery\"\n    // onMouseOver={stopScroll}\n    // onMouseOut={resumeScroll}\n    ,\n    children: [handleRoles(), pos < roleReturn.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"homeScrollArrow\",\n        src: require(\"../left.png\"),\n        onClick: jumpBack,\n        onMouseEnter: scrollBack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"rolesContainer\",\n        className: \"homeRoleCarousel\",\n        onMouseOver: stopScroll\n\n        // onMouseOut={resumeScroll}\n        ,\n        children: roleReturn.map((role, i) => /*#__PURE__*/_jsxDEV(HomeChar, {\n          charName: role[CharName],\n          charImg: role[ImageURL],\n          topTitleID: role[ShowID][0],\n          topTitle: role[Title][0]\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"homeScrollArrow\",\n        src: require(\"../right.png\"),\n        onClick: jumpForward,\n        onMouseEnter: scrollForward\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"rolesContainer\",\n        className: \"homeRoleCarousel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 9\n  }, this);\n  function scrollBack() {\n    stopScroll();\n    intID = window.self.setInterval(() => {\n      if (rolesContainer) {\n        let tempDir = -1;\n        setDirection(tempDir);\n        rolesContainer.scrollBy({\n          top: 0,\n          left: SPEED * tempDir,\n          behavior: \"smooth\"\n        });\n      }\n    }, 100);\n  }\n  function scrollForward() {\n    stopScroll();\n    intID = window.self.setInterval(() => {\n      if (rolesContainer) {\n        rolesContainer.scrollBy({\n          top: 0,\n          left: SPEED,\n          behavior: \"smooth\"\n        });\n      }\n    }, 100);\n  }\n  function jumpBack() {\n    stopScroll();\n    if (rolesContainer) {\n      let distance = rolesContainer.clientWidth;\n      let tempDir = -1;\n      setDirection(tempDir);\n      rolesContainer.scrollBy({\n        top: 0,\n        left: -distance,\n        behavior: \"smooth\"\n      });\n    }\n  }\n  function jumpForward() {\n    stopScroll();\n    if (rolesContainer) {\n      let distance = rolesContainer.clientWidth;\n      let tempDir = 1;\n      setDirection(tempDir);\n      rolesContainer.scrollBy({\n        top: 0,\n        left: distance,\n        behavior: \"smooth\"\n      });\n    }\n  }\n  function stopScroll() {\n    console.log(\"stop\");\n    clearInterval(intID);\n  }\n  function resumeScroll() {\n    console.log(\"start\");\n    intID = window.self.setInterval(() => {\n      if (rolesContainer) {\n        if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n          console.log(SPEED, direction);\n          rolesContainer.scrollBy({\n            top: 0,\n            left: SPEED * direction,\n            behavior: \"smooth\"\n          });\n        }\n      }\n    }, 100);\n  }\n  function handleRoles() {\n    combineRoles();\n    bubbleSort(roleReturn, roleReturn.length);\n    findPrimary();\n  }\n  function combineRoles() {\n    var currRoleShowIDs = [];\n    var currRoleTitles = [];\n    var currRoleRanks = [];\n    // console.log(roleReturn)\n    for (let i = 0; i < roleReturn.length; i++) {\n      // If Title is currently a String, turn it into an array\n      if (typeof roleReturn[i][Title] == 'string') {\n        currRoleShowIDs = [roleReturn[i][ShowID]];\n        currRoleTitles = [roleReturn[i][Title]];\n      } else {\n        currRoleShowIDs = roleReturn[i][ShowID];\n        currRoleTitles = roleReturn[i][Title];\n      }\n      if (typeof roleReturn[i][rank] == 'number') {\n        currRoleRanks = [roleReturn[i][rank]];\n      } else {\n        currRoleRanks = roleReturn[i][rank];\n      }\n\n      // \n      for (let p = i + 1; p < roleReturn.length; p++) {\n        if (roleReturn[i][CharID] === roleReturn[p][CharID]) {\n          // console.log(currRoleTitles, currRoleRanks)\n          currRoleShowIDs.push(roleReturn[p][ShowID]);\n          currRoleTitles.push(String(roleReturn[p][Title]));\n          currRoleRanks.push(roleReturn[p][rank]);\n          roleReturn.splice(p, 1);\n          p--;\n        } else {\n          i = p - 1;\n          break;\n        }\n      }\n      // console.log(currRoleTitles, currRoleRanks)\n\n      var swapped;\n      for (let k = 0; k < currRoleShowIDs.length; k++) {\n        swapped = false;\n        for (let m = 0; m < currRoleShowIDs.length; m++) {\n          if (currRoleRanks[m] > currRoleRanks[m + 1]) {\n            swap(currRoleRanks, m, m + 1);\n            swap(currRoleShowIDs, m, m + 1);\n            swap(currRoleTitles, m, m + 1);\n            swapped = true;\n          }\n        }\n        // IF no two elements were \n        // swapped by inner loop, then break\n        if (swapped === false) break;\n      }\n      roleReturn[i][ShowID] = currRoleShowIDs;\n      roleReturn[i][Title] = currRoleTitles;\n      roleReturn[i][rank] = currRoleRanks;\n    }\n    size = roleReturn.length;\n    for (let i = 0; i < Math.min(size, 10); i++) {\n      if (i === posDot) arr[i] = \"⦿\";else arr[i] = \"◦\";\n    }\n  }\n  function swap(arr, i1, i2) {\n    var temp = arr[i1];\n    arr[i1] = arr[i2];\n    arr[i2] = temp;\n  }\n  function bubbleSort(roles, n) {\n    // roleOrder = [];\n    // for (var i in roles) {\n    //     roleOrder.push(i)\n    // }\n    var i, j;\n    var swapped;\n    for (i = 0; i < n - 1; i++) {\n      swapped = false;\n      for (j = 0; j < n - i - 1; j++) {\n        if (roles[j][Favorites] < roles[j + 1][Favorites]) {\n          // Swap arr[j] and arr[j+1]\n          swap(roles, j, j + 1);\n          // temp = roles[j];\n          // roles[j] = roles[j + 1];\n          // roles[j + 1] = temp;\n          swapped = true;\n        }\n      }\n      // IF no two elements were \n      // swapped by inner loop, then break\n      if (swapped === false) break;\n    }\n  }\n  function findPrimary() {\n    // if multiple roles\n    if (roleReturn.length > 1) {\n      var num = 0;\n      // console.log(roleReturn)\n      for (var k in roleReturn) {\n        // console.log(roleReturn[k])\n        // console.log(roleReturn[k][ShowID])\n        if (roleReturn[k][ShowID].includes(parseInt(showID))) {\n          var temp = roleReturn[k];\n          roleReturn.splice(k, 1);\n          roleReturn.splice(num, 0, temp);\n          num++;\n        }\n      }\n    }\n  }\n\n  //  function countRoles(roleReturn, n) {\n  //     let res = 0;\n  //     console.log(roleReturn)\n  //     for (let i = 0; i < n; i++) {\n  //         // skip ahead on duplicates\n  //         console.log(i)\n  //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\n  //             console.log(roleReturn[i+1])\n  //             i++;\n  //         }\n  //         res++;\n  //     }\n  //     return res;\n  //  }\n};\n_s(HomeRoles, \"QaxXX9cjcO7v8aTiCqtX5vwUR/M=\");\n_c = HomeRoles;\nexport default HomeRoles;\nvar _c;\n$RefreshReg$(_c, \"HomeRoles\");","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Link","HomeChar","jsxDEV","_jsxDEV","Fragment","_Fragment","_","require","CharID","CharName","Favorites","ImageURL","ShowID","Title","rank","SPEED","intID","started","HomeRoles","actorID","actorName","actorImg","showID","flag","user","myList","cache","_s","pos","setPos","posDot","setPosDot","roleReturn","setRoleReturn","direction","setDirection","prevActor","prevUser","console","log","filterFlag","length","size","rolesContainerWidth","rolesContainer","document","getElementById","getRoles","isEqual","current","setTimeout","window","self","setInterval","scrollLeft","scrollWidth","clientWidth","scrollBy","top","left","behavior","stopScroll","scrollTo","resumeScroll","actID","roleData","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","i","Object","values","prev","Math","min","next","arr","className","children","handleRoles","src","onClick","jumpBack","onMouseEnter","scrollBack","fileName","_jsxFileName","lineNumber","columnNumber","id","onMouseOver","map","role","charName","charImg","topTitleID","topTitle","jumpForward","scrollForward","tempDir","distance","clearInterval","combineRoles","bubbleSort","findPrimary","currRoleShowIDs","currRoleTitles","currRoleRanks","p","push","String","splice","swapped","k","m","swap","i1","i2","temp","roles","n","j","num","includes","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/components/HomeRoles.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport HomeChar from \"../components/HomeChar\";\r\nimport \"./flickity.pkgd.js\"\r\n\r\n\r\nconst _ = require('lodash')\r\n\r\nconst CharID    = 0;\r\nconst CharName  = 1;\r\nconst Favorites = 2;\r\nconst ImageURL  = 3;\r\n// const ActorID = 4;\r\nconst ShowID    = 5;\r\nconst Title     = 7;\r\nconst rank      = 8;\r\n\r\nconst SPEED = 50;\r\n\r\nvar intID;\r\nvar started = false;\r\n\r\n\r\nconst HomeRoles = ({actorID, actorName, actorImg, showID, flag, user, myList, cache}) => {\r\n\r\n    // console.log(\"actorID received \", actorID)\r\n    \r\n    const [pos, setPos] = useState(0);\r\n    const [posDot, setPosDot] = useState(pos);\r\n    const [roleReturn, setRoleReturn] = useState([]);\r\n    const [direction, setDirection] = useState(1);\r\n    // const [scroller, setScroller] = useState();\r\n    const prevActor = useRef(0);\r\n    const prevUser = useRef(user);\r\n\r\n\r\n    console.log(\"direction\", direction)\r\n    console.log(actorID)\r\n    // console.log(user, \"in Toggle\")\r\n    var filterFlag = user.length > 0;\r\n    // const [roles, setRoles] = useState([]);\r\n    var size;\r\n    // var prevActor;\r\n\r\n    // const usePrevious = (value) => {\r\n    //     const ref = useRef()\r\n    //     useEffect(() => {\r\n    //         console.log(\"vallue\")\r\n    //         ref.current = value;\r\n    //     }, [value])\r\n    //     return ref.current;\r\n    // }\r\n\r\n\r\n    const rolesContainerWidth = 600;\r\n    const rolesContainer = document.getElementById(\"rolesContainer\");\r\n    \r\n    // useEffect(() => {\r\n    //     console.log(\"changed dir\");\r\n    // }, [direction])\r\n\r\n    // useEffect(() => {\r\n    //     // intID = window.self.setInterval(() => {\r\n    //     //     console.log(\"speed change\")\r\n    //     //     if (rolesContainer) {\r\n    //     //         console.log(speed)\r\n    //     //         // if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n    //     //             // console.log(rolesContainer.scrollLeft)\r\n    //     //             rolesContainer.scrollBy({\r\n    //     //                 top: 0,\r\n    //     //                 left: speed,\r\n    //     //                 behavior: \"smooth\"\r\n    //     //             })\r\n    //     //         // }\r\n    //     //     }\r\n    //     // }, 100);\r\n    // }, [speed]);\r\n\r\n    useEffect(() => {\r\n        getRoles(actorID);\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        // console.log(1, prevUser, 2, user)\r\n        if (!_.isEqual(prevUser.current, user)) {\r\n            // console.log(\"roles [user]\")\r\n            cache = {};\r\n            getRoles(actorID);\r\n        }\r\n        prevUser.current = user\r\n        // if (!_.isEqual(prevUser, user)) {\r\n        //     console.log(\"changed\")\r\n        //     getRoles(actorID)\r\n        //     cache = {};\r\n        // }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        console.log(started)\r\n        setTimeout(() => {\r\n            intID = window.self.setInterval(() => {\r\n                if (rolesContainer) {\r\n                    console.log(rolesContainer.scrollLeft,  0.95*(rolesContainer.scrollWidth - rolesContainer.clientWidth))\r\n                    if (direction > 0 && rolesContainer.scrollLeft < 0.95*(rolesContainer.scrollWidth - rolesContainer.clientWidth)) {\r\n                        rolesContainer.scrollBy({\r\n                            top: 0,\r\n                            left: SPEED,\r\n                            behavior: \"smooth\"\r\n                        })\r\n                    }\r\n                    else {\r\n                        stopScroll();\r\n                        rolesContainer.scrollBy({\r\n                            top: 0,\r\n                            left: -SPEED,\r\n                            behavior: \"smooth\"\r\n                        })\r\n                    }\r\n                }\r\n            }, 100);\r\n        }, 1000) \r\n    }, [rolesContainer]);\r\n\r\n    useEffect(() => {\r\n        // debugger\r\n        if (!_.isEqual(prevActor.current, actorID)) {\r\n            // console.log(\"roles [actorID]\")\r\n            stopScroll();\r\n            setDirection(1);\r\n            getRoles(actorID);\r\n            if (rolesContainer) {\r\n                rolesContainer.scrollTo({\r\n                    top: 0,\r\n                    left: 0,\r\n                    behavior: \"instant\"\r\n                })\r\n            }\r\n            setTimeout(() => {\r\n                resumeScroll();\r\n            }, 1300);\r\n        }\r\n        prevActor.current = actorID;\r\n    }, [actorID]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     getRoles(actorID);\r\n    // }, []);\r\n    \r\n    const getRoles = async(actID) => {\r\n        // console.log(1, user, 2, prevUser)\r\n        if (cache && cache[actID]) {\r\n            setRoleReturn(cache[actID])\r\n        }\r\n        else {\r\n            const roleData = await fetch ('/api/roles', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    ActorID: actID,\r\n                    myList: myList,\r\n                    flag: filterFlag\r\n                })\r\n            }).then(res => res.json())\r\n            // console.log(roleData)\r\n            for (let i in roleData) {\r\n                roleData[i] = Object.values(roleData[i])\r\n            }\r\n            setRoleReturn(Object.values(roleData));\r\n            // console.log(Object.values(roleData))\r\n            cache[actorID] = Object.values(roleData)\r\n        }\r\n    }\r\n\r\n\r\n    function prev() {\r\n        // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\r\n\r\n        if (pos === 0) {\r\n            setPos(size - 1);\r\n            setPosDot(Math.min(9, size - 1));\r\n            \r\n        }\r\n        else if (pos > 7) {\r\n            if (posDot > 7) \r\n            setPosDot(posDot - 1);\r\n        setPos(pos - 1);\r\n    }\r\n    else {\r\n        setPos(pos - 1);\r\n        setPosDot(posDot - 1);\r\n    }\r\n    }\r\n    function next() {\r\n        // console.log(\"buffer \", buffer, \"posDot \", posDot, \"pos \", pos, \"ext \", ext)\r\n        // end of line\r\n        if (pos === size - 1) {\r\n            setPos(0);\r\n            setPosDot(0);\r\n        }\r\n        // pause at buffer\r\n        else if (posDot === 7 && size - pos > 3 ) {\r\n            setPos(pos + 1)\r\n        }\r\n        // press on\r\n        else {\r\n            setPos(pos + 1);\r\n            setPosDot(posDot + 1);\r\n            // console.log('posDot', posDot)\r\n            // console.log('pos', pos)\r\n            // console.log('size', size)\r\n            // console.log('rr', roleReturn)\r\n        }\r\n    } \r\n\r\n    const arr = [];\r\n   \r\n    \r\n    return ( \r\n        \r\n        <div className=\"homeRoleGallery\" \r\n            // onMouseOver={stopScroll}\r\n            // onMouseOut={resumeScroll}\r\n            >  \r\n            {handleRoles()}\r\n            {/* <- Cycling Roles -> */}\r\n            {pos < roleReturn.length\r\n                ? <>\r\n                    <img className=\"homeScrollArrow\" src={require(\"../left.png\")} onClick={jumpBack} onMouseEnter={scrollBack}></img>{/*onMouseDown={scrollBack} onMouseUp={stopScroll}>*/}\r\n                    {/* <button onClick={handleScrollButton}></button> */}\r\n                    <div\r\n                        id=\"rolesContainer\"\r\n                        className=\"homeRoleCarousel\"\r\n                        onMouseOver={stopScroll}\r\n                        \r\n                        // onMouseOut={resumeScroll}\r\n                        >\r\n                    {roleReturn.map((role, i) =>\r\n                        <HomeChar key={i} charName={role[CharName]} charImg={role[ImageURL]} topTitleID={role[ShowID][0]} topTitle={role[Title][0]}/>\r\n                    )}\r\n                    {/* <div className=\"homeRoleCarousel js-flickity flickity-enabled is-draggable\"\r\n                        data-flickity-options='{ \"cellAlign\": \"left\", \"contain\": true }'>\r\n                        <div className=\"flickity-viewport\">\r\n                            <div className=\"flickity-slider\">\r\n                                {roleReturn.map((role, i) =>\r\n                                    <HomeChar key={i} charName={role[CharName]} charImg={role[ImageURL]} topTitleID={role[ShowID][0]} topTitle={role[Title][0]}/>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                    </div>\r\n                    <img className=\"homeScrollArrow\" src={require(\"../right.png\")} onClick={jumpForward} onMouseEnter={scrollForward}></img> {/*</>onMouseDown={scrollForward} onMouseUp={stopScroll}>*/}\r\n                </>\r\n                : <><div id=\"rolesContainer\" className=\"homeRoleCarousel\"></div></>\r\n            }\r\n\r\n        </div>\r\n     );\r\n\r\n     function scrollBack() {\r\n        stopScroll();\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                let tempDir = -1;\r\n                setDirection(tempDir);\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: SPEED*tempDir,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function scrollForward() {\r\n        stopScroll();\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function jumpBack() {\r\n        stopScroll();\r\n        if (rolesContainer) {\r\n            let distance = rolesContainer.clientWidth;\r\n            let tempDir = -1;\r\n            setDirection(tempDir);\r\n            rolesContainer.scrollBy({\r\n                top: 0,\r\n                left: -distance,\r\n                behavior: \"smooth\"\r\n            })\r\n        }\r\n     }\r\n\r\n     function jumpForward() {\r\n        stopScroll();\r\n        if (rolesContainer) {            \r\n            let distance = rolesContainer.clientWidth;\r\n            let tempDir = 1;\r\n            setDirection(tempDir);\r\n            rolesContainer.scrollBy({\r\n                top: 0,\r\n                left: distance,\r\n                behavior: \"smooth\"\r\n            })\r\n        }\r\n     }\r\n\r\n     function stopScroll() {\r\n        console.log(\"stop\")\r\n        clearInterval(intID);\r\n     }\r\n\r\n     function resumeScroll() {\r\n        console.log(\"start\")\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n                    console.log(SPEED, direction)\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: SPEED*direction,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function handleRoles() {\r\n        combineRoles();\r\n        bubbleSort(roleReturn, roleReturn.length);\r\n        findPrimary();\r\n     }\r\n\r\n     function combineRoles() {\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        var currRoleRanks = [];\r\n        // console.log(roleReturn)\r\n        for (let i = 0; i < roleReturn.length; i++) {\r\n            // If Title is currently a String, turn it into an array\r\n            if (typeof roleReturn[i][Title] == 'string') {\r\n                currRoleShowIDs = [roleReturn[i][ShowID]];\r\n                currRoleTitles  = [roleReturn[i][Title]];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roleReturn[i][ShowID];\r\n                currRoleTitles  = roleReturn[i][Title];\r\n            }\r\n            if (typeof roleReturn[i][rank] == 'number') {\r\n                currRoleRanks = [roleReturn[i][rank]];\r\n            } else {\r\n                currRoleRanks = roleReturn[i][rank];                \r\n            }\r\n\r\n            // \r\n            for (let p = i + 1; p < roleReturn.length; p++) {\r\n                if(roleReturn[i][CharID] === roleReturn[p][CharID]) {\r\n                    // console.log(currRoleTitles, currRoleRanks)\r\n                    currRoleShowIDs.push(roleReturn[p][ShowID]);\r\n                    currRoleTitles.push(String(roleReturn[p][Title]));\r\n                    currRoleRanks.push(roleReturn[p][rank]);\r\n                    roleReturn.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            // console.log(currRoleTitles, currRoleRanks)\r\n\r\n            var swapped;\r\n            for (let k = 0; k < currRoleShowIDs.length; k++) {\r\n                swapped = false\r\n                for (let m = 0; m < currRoleShowIDs.length; m++) {\r\n                    if (currRoleRanks[m] > currRoleRanks[m+1]) \r\n                    {\r\n                        swap(currRoleRanks, m, m+1)\r\n                        swap(currRoleShowIDs, m, m+1)\r\n                        swap(currRoleTitles, m, m+1)\r\n                        swapped = true;\r\n                    }\r\n                }\r\n                // IF no two elements were \r\n                // swapped by inner loop, then break\r\n                if (swapped === false)\r\n                break;\r\n            }\r\n\r\n            roleReturn[i][ShowID] = currRoleShowIDs;\r\n            roleReturn[i][Title] = currRoleTitles;\r\n            roleReturn[i][rank] = currRoleRanks;\r\n        }\r\n        size = roleReturn.length;\r\n        for (let i = 0; i < Math.min(size, 10); i++) {\r\n            if (i === posDot)\r\n                arr[i] = \"⦿\"\r\n            else\r\n                arr[i] = \"◦\";\r\n        }\r\n    }\r\n\r\n    function swap(arr, i1, i2) {\r\n        var temp = arr[i1];\r\n        arr[i1] = arr[i2];\r\n        arr[i2] = temp;\r\n    }\r\n\r\n    function bubbleSort(roles, n)\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][Favorites] < roles[j + 1][Favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    swap(roles, j, j+1)\r\n                    // temp = roles[j];\r\n                    // roles[j] = roles[j + 1];\r\n                    // roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function findPrimary() {\r\n        // if multiple roles\r\n        if (roleReturn.length > 1) {\r\n            var num = 0;\r\n            // console.log(roleReturn)\r\n            for (var k in roleReturn) {\r\n                // console.log(roleReturn[k])\r\n                // console.log(roleReturn[k][ShowID])\r\n                if (roleReturn[k][ShowID].includes(parseInt(showID))) {\r\n                    \r\n                    var temp = roleReturn[k];\r\n                    roleReturn.splice(k, 1);\r\n                    roleReturn.splice(num, 0, temp);\r\n                    num++;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n\r\n    //  function countRoles(roleReturn, n) {\r\n    //     let res = 0;\r\n    //     console.log(roleReturn)\r\n    //     for (let i = 0; i < n; i++) {\r\n    //         // skip ahead on duplicates\r\n    //         console.log(i)\r\n    //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\r\n    //             console.log(roleReturn[i+1])\r\n    //             i++;\r\n    //         }\r\n    //         res++;\r\n    //     }\r\n    //     return res;\r\n    //  }\r\n}\r\n \r\nexport default HomeRoles;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}