{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from\"react\";import{useParams,Link}from\"react-router-dom\";import HomeChar from\"../components/HomeChar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var _=require('lodash');var CharID=0;var CharName=1;var Favorites=2;var ImageURL=3;// const ActorID = 4;\nvar ShowID=5;var Title=7;var rank=8;var SPEED=20;var intID;var started=false;var HomeRoles=function HomeRoles(_ref){var actorID=_ref.actorID,actorName=_ref.actorName,actorImg=_ref.actorImg,showID=_ref.showID,flag=_ref.flag,user=_ref.user,myList=_ref.myList,cache=_ref.cache;// console.log(\"actorID received \", actorID)\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),roleReturn=_useState2[0],setRoleReturn=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),direction=_useState4[0],setDirection=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),scrolling=_useState6[0],setScrolling=_useState6[1];// const [scroller, setScroller] = useState();\nvar prevActor=useRef(0);var prevUser=useRef(user);// console.log(\"direction\", direction)\n// console.log(actorID)\n// console.log(user, \"in Toggle\")\nvar filterFlag=user.length>0;// const [roles, setRoles] = useState([]);\nvar size;// var prevActor;\n// const usePrevious = (value) => {\n//     const ref = useRef()\n//     useEffect(() => {\n//         console.log(\"vallue\")\n//         ref.current = value;\n//     }, [value])\n//     return ref.current;\n// }\nvar rolesContainerWidth=600;var rolesContainer=document.getElementById(\"rolesContainer\");// useEffect(() => {\n//     console.log(\"changed dir\");\n// }, [direction])\n// useEffect(() => {\n//     // intID = window.self.setInterval(() => {\n//     //     console.log(\"speed change\")\n//     //     if (rolesContainer) {\n//     //         console.log(speed)\n//     //         // if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n//     //             // console.log(rolesContainer.scrollLeft)\n//     //             rolesContainer.scrollBy({\n//     //                 top: 0,\n//     //                 left: speed,\n//     //                 behavior: \"smooth\"\n//     //             })\n//     //         // }\n//     //     }\n//     // }, 100);\n// }, [speed]);\nuseEffect(function(){console.log(\"[] getting \",actorID);getRoles(actorID);},[]);useEffect(function(){// console.log(1, prevUser, 2, user)\nif(!_.isEqual(prevUser.current,user)){console.log(\"roles [user]\");cache={};getRoles(actorID);}prevUser.current=user;// if (!_.isEqual(prevUser, user)) {\n//     console.log(\"changed\")\n//     getRoles(actorID)\n//     cache = {};\n// }\n},[user]);useEffect(function(){console.log(started);var tempDir=direction;setTimeout(function(){resumeScroll(tempDir);},1000);},[rolesContainer]);useEffect(function(){// debugger\nif(!_.isEqual(prevActor.current,actorID)){console.log(\"roles [actorID]\");stopScroll();setDirection(1);getRoles(actorID);if(rolesContainer){rolesContainer.scrollTo({top:0,left:0,behavior:\"instant\"});}setTimeout(function(){resumeScroll(1);},1300);}prevActor.current=actorID;},[actorID]);// useEffect(() => {\n//     getRoles(actorID);\n// }, []);\nvar getRoles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(actID){var roleData,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"rioling\");if(!(cache&&cache[actID])){_context.next=5;break;}setRoleReturn(cache[actID]);_context.next=12;break;case 5:cache[actorID]=[];_context.next=8;return fetch('/api/roles',{method:'POST',headers:{'content-type':'application/json','Accept':'application/json'},body:JSON.stringify({ActorID:actID,myList:myList,flag:filterFlag})}).then(function(res){return res.json();});case 8:roleData=_context.sent;// console.log(roleData)\nfor(i in roleData){roleData[i]=Object.values(roleData[i]);}setRoleReturn(Object.values(roleData));// console.log(Object.values(roleData))\ncache[actorID]=Object.values(roleData);case 12:case\"end\":return _context.stop();}},_callee);}));return function getRoles(_x){return _ref2.apply(this,arguments);};}();var arr=[];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homeRoleGallery\"// onMouseOver={stopScroll}\n// onMouseOut={resumeScroll}\n,children:[handleRoles(),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../back.png\"),onClick:jumpBack// onMouseEnter={() => resumeScroll(-1)}\n,onMouseEnter:scrollBack}),/*#__PURE__*/_jsx(\"div\",{id:\"rolesContainer\",className:\"homeRoleCarousel\",onMouseOver:stopScroll// onMouseOut={resumeScroll}\n,children:roleReturn.map(function(role,i){return/*#__PURE__*/_jsx(HomeChar,{charName:role[CharName],charImg:role[ImageURL],topTitleID:role[ShowID][0],topTitle:role[Title][0]},i);})}),/*#__PURE__*/_jsx(\"img\",{className:\"homeScrollArrow\",src:require(\"../next.png\"),onClick:jumpForward// onMouseEnter={() => resumeScroll(1)}>\n,onMouseEnter:scrollForward})]}),/*#__PURE__*/_jsx(\"img\",{src:scrolling?require('../pause.png'):require('../play.png'),id:\"homePlayButton\",onClick:pausePlay})]});function scrollBack(){stopScroll();setScrolling(true);setDirection(-1);intID=window.self.setInterval(function(){if(rolesContainer){if(rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function scrollForward(){stopScroll();setScrolling(true);setDirection(1);intID=window.self.setInterval(function(){if(rolesContainer){if(rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}else{setScrolling(false);}}},100);}function pausePlay(){if(scrolling){stopScroll();}else{resumeScroll(direction);}}function jumpBack(){stopScroll();if(rolesContainer){var distance=rolesContainer.clientWidth;var tempDir=-1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:-distance,behavior:\"smooth\"});}}function jumpForward(){stopScroll();if(rolesContainer){var distance=rolesContainer.clientWidth;var tempDir=1;setDirection(tempDir);rolesContainer.scrollBy({top:0,left:distance,behavior:\"smooth\"});}}function stopScroll(){// console.log(\"stop\")\nclearInterval(intID);setScrolling(false);}function resumeScroll(dir){// console.log(started)\nsetScrolling(true);var tempDir=dir;setDirection(dir);clearInterval(intID);intID=window.self.setInterval(function(){if(rolesContainer&&rolesContainer.scrollWidth>0){// console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\n// move right\nif(tempDir>0&&rolesContainer.scrollLeft<rolesContainer.scrollWidth-rolesContainer.clientWidth){rolesContainer.scrollBy({top:0,left:SPEED,behavior:\"smooth\"});}// move left\nelse if(tempDir<0&&rolesContainer.scrollLeft>0){rolesContainer.scrollBy({top:0,left:-SPEED,behavior:\"smooth\"});}// at an end\nelse{// stopScroll();\ntempDir=-tempDir;setDirection(tempDir);}}},100);// console.log(\"start\")\n// intID = window.self.setInterval(() => {\n//     if (rolesContainer) {\n//         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\n//             console.log(SPEED, direction)\n//             rolesContainer.scrollBy({\n//                 top: 0,\n//                 left: SPEED*direction,\n//                 behavior: \"smooth\"\n//             })\n//         }\n//     }\n// }, 100);\n}function handleRoles(){combineRoles();bubbleSort(roleReturn,roleReturn.length);findPrimary();}function combineRoles(){var currRoleShowIDs=[];var currRoleTitles=[];var currRoleRanks=[];// console.log(roleReturn)\nfor(var i=0;i<roleReturn.length;i++){// If Title is currently a String, turn it into an array\nif(typeof roleReturn[i][Title]=='string'){currRoleShowIDs=[roleReturn[i][ShowID]];currRoleTitles=[roleReturn[i][Title]];}else{currRoleShowIDs=roleReturn[i][ShowID];currRoleTitles=roleReturn[i][Title];}if(typeof roleReturn[i][rank]=='number'){currRoleRanks=[roleReturn[i][rank]];}else{currRoleRanks=roleReturn[i][rank];}// \nfor(var p=i+1;p<roleReturn.length;p++){if(roleReturn[i][CharID]===roleReturn[p][CharID]){// console.log(currRoleTitles, currRoleRanks)\ncurrRoleShowIDs.push(roleReturn[p][ShowID]);currRoleTitles.push(String(roleReturn[p][Title]));currRoleRanks.push(roleReturn[p][rank]);roleReturn.splice(p,1);p--;}else{i=p-1;break;}}// console.log(currRoleTitles, currRoleRanks)\nvar swapped;for(var k=0;k<currRoleShowIDs.length;k++){swapped=false;for(var m=0;m<currRoleShowIDs.length;m++){if(currRoleRanks[m]>currRoleRanks[m+1]){swap(currRoleRanks,m,m+1);swap(currRoleShowIDs,m,m+1);swap(currRoleTitles,m,m+1);swapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}roleReturn[i][ShowID]=currRoleShowIDs;roleReturn[i][Title]=currRoleTitles;roleReturn[i][rank]=currRoleRanks;}size=roleReturn.length;}function swap(arr,i1,i2){var temp=arr[i1];arr[i1]=arr[i2];arr[i2]=temp;}function bubbleSort(roles,n){// roleOrder = [];\n// for (var i in roles) {\n//     roleOrder.push(i)\n// }\nvar i,j;var swapped;for(i=0;i<n-1;i++){swapped=false;for(j=0;j<n-i-1;j++){if(roles[j][Favorites]<roles[j+1][Favorites]){// Swap arr[j] and arr[j+1]\nswap(roles,j,j+1);// temp = roles[j];\n// roles[j] = roles[j + 1];\n// roles[j + 1] = temp;\nswapped=true;}}// IF no two elements were \n// swapped by inner loop, then break\nif(swapped===false)break;}}function findPrimary(){// if multiple roles\nif(roleReturn.length>1){var num=0;// console.log(roleReturn)\nfor(var k in roleReturn){// console.log(roleReturn[k])\n// console.log(roleReturn[k][ShowID])\nif(roleReturn[k][ShowID].includes(parseInt(showID))){var temp=roleReturn[k];roleReturn.splice(k,1);roleReturn.splice(num,0,temp);num++;}}}}//  function countRoles(roleReturn, n) {\n//     let res = 0;\n//     console.log(roleReturn)\n//     for (let i = 0; i < n; i++) {\n//         // skip ahead on duplicates\n//         console.log(i)\n//         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\n//             console.log(roleReturn[i+1])\n//             i++;\n//         }\n//         res++;\n//     }\n//     return res;\n//  }\n};export default HomeRoles;","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Link","HomeChar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_","require","CharID","CharName","Favorites","ImageURL","ShowID","Title","rank","SPEED","intID","started","HomeRoles","_ref","actorID","actorName","actorImg","showID","flag","user","myList","cache","_useState","_useState2","_slicedToArray","roleReturn","setRoleReturn","_useState3","_useState4","direction","setDirection","_useState5","_useState6","scrolling","setScrolling","prevActor","prevUser","filterFlag","length","size","rolesContainerWidth","rolesContainer","document","getElementById","console","log","getRoles","isEqual","current","tempDir","setTimeout","resumeScroll","stopScroll","scrollTo","top","left","behavior","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","actID","roleData","i","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","ActorID","then","res","json","sent","Object","values","stop","_x","apply","arguments","arr","children","className","handleRoles","src","onClick","jumpBack","onMouseEnter","scrollBack","id","onMouseOver","map","role","charName","charImg","topTitleID","topTitle","jumpForward","scrollForward","pausePlay","window","self","setInterval","scrollLeft","scrollBy","scrollWidth","clientWidth","distance","clearInterval","dir","combineRoles","bubbleSort","findPrimary","currRoleShowIDs","currRoleTitles","currRoleRanks","p","push","String","splice","swapped","k","m","swap","i1","i2","temp","roles","n","j","num","includes","parseInt"],"sources":["C:/Users/aphen/OneDrive/Documents/GitHub/react-voice-actors/frontend/src/components/HomeRoles.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport HomeChar from \"../components/HomeChar\";\r\n\r\n\r\nconst _ = require('lodash')\r\n\r\nconst CharID    = 0;\r\nconst CharName  = 1;\r\nconst Favorites = 2;\r\nconst ImageURL  = 3;\r\n// const ActorID = 4;\r\nconst ShowID    = 5;\r\nconst Title     = 7;\r\nconst rank      = 8;\r\n\r\nconst SPEED = 20;\r\n\r\nvar intID;\r\nvar started = false;\r\n\r\n\r\nconst HomeRoles = ({actorID, actorName, actorImg, showID, flag, user, myList, cache}) => {\r\n\r\n    // console.log(\"actorID received \", actorID)\r\n    \r\n    const [roleReturn, setRoleReturn] = useState([]);\r\n    const [direction, setDirection] = useState(1);\r\n    const [scrolling, setScrolling] = useState(false);\r\n    // const [scroller, setScroller] = useState();\r\n    const prevActor = useRef(0);\r\n    const prevUser = useRef(user);\r\n\r\n\r\n    // console.log(\"direction\", direction)\r\n    // console.log(actorID)\r\n    // console.log(user, \"in Toggle\")\r\n    var filterFlag = user.length > 0;\r\n    // const [roles, setRoles] = useState([]);\r\n    var size;\r\n    // var prevActor;\r\n\r\n    // const usePrevious = (value) => {\r\n    //     const ref = useRef()\r\n    //     useEffect(() => {\r\n    //         console.log(\"vallue\")\r\n    //         ref.current = value;\r\n    //     }, [value])\r\n    //     return ref.current;\r\n    // }\r\n\r\n\r\n    const rolesContainerWidth = 600;\r\n    const rolesContainer = document.getElementById(\"rolesContainer\");\r\n    \r\n    // useEffect(() => {\r\n    //     console.log(\"changed dir\");\r\n    // }, [direction])\r\n\r\n    // useEffect(() => {\r\n    //     // intID = window.self.setInterval(() => {\r\n    //     //     console.log(\"speed change\")\r\n    //     //     if (rolesContainer) {\r\n    //     //         console.log(speed)\r\n    //     //         // if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n    //     //             // console.log(rolesContainer.scrollLeft)\r\n    //     //             rolesContainer.scrollBy({\r\n    //     //                 top: 0,\r\n    //     //                 left: speed,\r\n    //     //                 behavior: \"smooth\"\r\n    //     //             })\r\n    //     //         // }\r\n    //     //     }\r\n    //     // }, 100);\r\n    // }, [speed]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"[] getting \", actorID)\r\n        getRoles(actorID);\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        // console.log(1, prevUser, 2, user)\r\n        if (!_.isEqual(prevUser.current, user)) {\r\n            console.log(\"roles [user]\")\r\n            cache = {};\r\n            getRoles(actorID);\r\n        }\r\n        prevUser.current = user\r\n        // if (!_.isEqual(prevUser, user)) {\r\n        //     console.log(\"changed\")\r\n        //     getRoles(actorID)\r\n        //     cache = {};\r\n        // }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        console.log(started)\r\n        let tempDir = direction;\r\n        setTimeout(() => {\r\n            resumeScroll(tempDir);\r\n        }, 1000) \r\n    }, [rolesContainer]);\r\n\r\n    useEffect(() => {\r\n        // debugger\r\n        if (!_.isEqual(prevActor.current, actorID)) {\r\n            console.log(\"roles [actorID]\")\r\n            stopScroll();\r\n            setDirection(1);\r\n            getRoles(actorID);\r\n            if (rolesContainer) {\r\n                rolesContainer.scrollTo({\r\n                    top: 0,\r\n                    left: 0,\r\n                    behavior: \"instant\"\r\n                })\r\n            }\r\n            setTimeout(() => {\r\n                resumeScroll(1);\r\n            }, 1300);\r\n        }\r\n        prevActor.current = actorID;\r\n    }, [actorID]);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     getRoles(actorID);\r\n    // }, []);\r\n    \r\n    const getRoles = async(actID) => {\r\n        console.log(\"rioling\")\r\n        if (cache && cache[actID]) {\r\n            setRoleReturn(cache[actID])\r\n        }\r\n        else {\r\n            cache[actorID] = [];\r\n            const roleData = await fetch ('/api/roles', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    ActorID: actID,\r\n                    myList: myList,\r\n                    flag: filterFlag\r\n                })\r\n            }).then(res => res.json())\r\n            // console.log(roleData)\r\n            for (let i in roleData) {\r\n                roleData[i] = Object.values(roleData[i])\r\n            }\r\n            setRoleReturn(Object.values(roleData));\r\n            // console.log(Object.values(roleData))\r\n            cache[actorID] = Object.values(roleData)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const arr = [];\r\n   \r\n    \r\n    return ( \r\n        <>\r\n            <div className=\"homeRoleGallery\" \r\n                // onMouseOver={stopScroll}\r\n                // onMouseOut={resumeScroll}\r\n                >  \r\n                {handleRoles()}\r\n                {/* <- Cycling Roles -> */}\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../back.png\")} \r\n                        onClick={jumpBack} \r\n                        // onMouseEnter={() => resumeScroll(-1)}\r\n                        onMouseEnter={scrollBack}\r\n                    ></img>\r\n                    {/*onMouseDown={scrollBack} onMouseUp={stopScroll}>*/}\r\n                    <div\r\n                        id=\"rolesContainer\"\r\n                        className=\"homeRoleCarousel\"\r\n                        onMouseOver={stopScroll}\r\n                        \r\n                        // onMouseOut={resumeScroll}\r\n                        >\r\n                    {roleReturn.map((role, i) =>\r\n                        <HomeChar key={i} \r\n                            charName={role[CharName]} \r\n                            charImg={role[ImageURL]} \r\n                            topTitleID={role[ShowID][0]} \r\n                            topTitle={role[Title][0]}/>\r\n                    )}\r\n                    {/* <div className=\"homeRoleCarousel js-flickity flickity-enabled is-draggable\"\r\n                        data-flickity-options='{ \"cellAlign\": \"left\", \"contain\": true }'>\r\n                        <div className=\"flickity-viewport\">\r\n                            <div className=\"flickity-slider\">\r\n                                {roleReturn.map((role, i) =>\r\n                                    <HomeChar key={i} charName={role[CharName]} charImg={role[ImageURL]} topTitleID={role[ShowID][0]} topTitle={role[Title][0]}/>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div> */}\r\n                    </div>\r\n                    <img className=\"homeScrollArrow\" \r\n                        src={require(\"../next.png\")} \r\n                        onClick={jumpForward} \r\n                        // onMouseEnter={() => resumeScroll(1)}>\r\n                        onMouseEnter={scrollForward}\r\n                    ></img> \r\n                    {/*</>onMouseDown={scrollForward} onMouseUp={stopScroll}>*/}\r\n            </div>\r\n            <img src={scrolling ? require('../pause.png') : require('../play.png')} id=\"homePlayButton\" onClick={pausePlay}></img>\r\n        </>\r\n     );\r\n\r\n     function scrollBack() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(-1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if (rolesContainer.scrollLeft > 0) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: -SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false);\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n     function scrollForward() {\r\n        stopScroll();\r\n        setScrolling(true);\r\n        setDirection(1);\r\n        intID = window.self.setInterval(() => {\r\n            if (rolesContainer) {\r\n                if(rolesContainer.scrollLeft < rolesContainer.scrollWidth - rolesContainer.clientWidth) {\r\n                    rolesContainer.scrollBy({\r\n                        top: 0,\r\n                        left: SPEED,\r\n                        behavior: \"smooth\"\r\n                    })\r\n                }\r\n                else {\r\n                    setScrolling(false)\r\n                }\r\n            }\r\n        }, 100);\r\n     }\r\n\r\n    function pausePlay() {\r\n        if (scrolling) {\r\n            stopScroll();\r\n        }\r\n        else {\r\n            resumeScroll(direction);\r\n        }\r\n    }\r\n\r\n    function jumpBack() {\r\n    stopScroll();\r\n    if (rolesContainer) {\r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = -1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: -distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function jumpForward() {\r\n    stopScroll();\r\n    if (rolesContainer) {            \r\n        let distance = rolesContainer.clientWidth;\r\n        let tempDir = 1;\r\n        setDirection(tempDir);\r\n        rolesContainer.scrollBy({\r\n            top: 0,\r\n            left: distance,\r\n            behavior: \"smooth\"\r\n        })\r\n    }\r\n    }\r\n\r\n    function stopScroll() {\r\n    // console.log(\"stop\")\r\n    clearInterval(intID);\r\n    setScrolling(false);\r\n    }\r\n\r\n    function resumeScroll(dir) {\r\n    // console.log(started)\r\n    setScrolling(true);\r\n    let tempDir = dir;\r\n    setDirection(dir);\r\n    clearInterval(intID);\r\n    intID = window.self.setInterval(() => {\r\n        if (rolesContainer && rolesContainer.scrollWidth > 0) {\r\n            // console.log(SPEED, tempDir, rolesContainer.scrollLeft, (rolesContainer.scrollWidth - rolesContainer.clientWidth))\r\n            // move right\r\n            if (tempDir > 0 && rolesContainer.scrollLeft < (rolesContainer.scrollWidth - rolesContainer.clientWidth)) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // move left\r\n            else if (tempDir < 0 && rolesContainer.scrollLeft > 0) {\r\n                rolesContainer.scrollBy({\r\n                    top: 0,\r\n                    left: -SPEED,\r\n                    behavior: \"smooth\"\r\n                })\r\n            }\r\n            // at an end\r\n            else {\r\n                // stopScroll();\r\n                tempDir = -tempDir;\r\n                setDirection(tempDir);\r\n            }\r\n        }\r\n    }, 100);\r\n\r\n    // console.log(\"start\")\r\n    // intID = window.self.setInterval(() => {\r\n    //     if (rolesContainer) {\r\n    //         if (direction > 0 && rolesContainer.scrollLeft !== rolesContainer.scrollWidth) {\r\n    //             console.log(SPEED, direction)\r\n    //             rolesContainer.scrollBy({\r\n    //                 top: 0,\r\n    //                 left: SPEED*direction,\r\n    //                 behavior: \"smooth\"\r\n    //             })\r\n    //         }\r\n    //     }\r\n    // }, 100);\r\n    }\r\n\r\n    function handleRoles() {\r\n    combineRoles();\r\n    bubbleSort(roleReturn, roleReturn.length);\r\n    findPrimary();\r\n    }\r\n\r\n     function combineRoles() {\r\n        var currRoleShowIDs = [];\r\n        var currRoleTitles = [];\r\n        var currRoleRanks = [];\r\n        // console.log(roleReturn)\r\n        for (let i = 0; i < roleReturn.length; i++) {\r\n            // If Title is currently a String, turn it into an array\r\n            if (typeof roleReturn[i][Title] == 'string') {\r\n                currRoleShowIDs = [roleReturn[i][ShowID]];\r\n                currRoleTitles  = [roleReturn[i][Title]];\r\n            }\r\n            else {\r\n                currRoleShowIDs = roleReturn[i][ShowID];\r\n                currRoleTitles  = roleReturn[i][Title];\r\n            }\r\n            if (typeof roleReturn[i][rank] == 'number') {\r\n                currRoleRanks = [roleReturn[i][rank]];\r\n            } else {\r\n                currRoleRanks = roleReturn[i][rank];                \r\n            }\r\n\r\n            // \r\n            for (let p = i + 1; p < roleReturn.length; p++) {\r\n                if(roleReturn[i][CharID] === roleReturn[p][CharID]) {\r\n                    // console.log(currRoleTitles, currRoleRanks)\r\n                    currRoleShowIDs.push(roleReturn[p][ShowID]);\r\n                    currRoleTitles.push(String(roleReturn[p][Title]));\r\n                    currRoleRanks.push(roleReturn[p][rank]);\r\n                    roleReturn.splice(p, 1);\r\n                    p--;\r\n                }\r\n                else {\r\n                    i = p - 1;\r\n                    break\r\n                }\r\n            }\r\n            // console.log(currRoleTitles, currRoleRanks)\r\n\r\n            var swapped;\r\n            for (let k = 0; k < currRoleShowIDs.length; k++) {\r\n                swapped = false\r\n                for (let m = 0; m < currRoleShowIDs.length; m++) {\r\n                    if (currRoleRanks[m] > currRoleRanks[m+1]) \r\n                    {\r\n                        swap(currRoleRanks, m, m+1)\r\n                        swap(currRoleShowIDs, m, m+1)\r\n                        swap(currRoleTitles, m, m+1)\r\n                        swapped = true;\r\n                    }\r\n                }\r\n                // IF no two elements were \r\n                // swapped by inner loop, then break\r\n                if (swapped === false)\r\n                break;\r\n            }\r\n\r\n            roleReturn[i][ShowID] = currRoleShowIDs;\r\n            roleReturn[i][Title] = currRoleTitles;\r\n            roleReturn[i][rank] = currRoleRanks;\r\n        }\r\n        size = roleReturn.length;\r\n    }\r\n\r\n    function swap(arr, i1, i2) {\r\n        var temp = arr[i1];\r\n        arr[i1] = arr[i2];\r\n        arr[i2] = temp;\r\n    }\r\n\r\n    function bubbleSort(roles, n)\r\n    {\r\n        // roleOrder = [];\r\n        // for (var i in roles) {\r\n        //     roleOrder.push(i)\r\n        // }\r\n        var i, j;\r\n        var swapped;\r\n        for (i = 0; i < n - 1; i++) \r\n        {\r\n            swapped = false;\r\n            for (j = 0; j < n - i - 1; j++) \r\n            {\r\n                if (roles[j][Favorites] < roles[j + 1][Favorites]) \r\n                {\r\n                    // Swap arr[j] and arr[j+1]\r\n                    swap(roles, j, j+1)\r\n                    // temp = roles[j];\r\n                    // roles[j] = roles[j + 1];\r\n                    // roles[j + 1] = temp;\r\n                    swapped = true;\r\n                }\r\n            }\r\n            // IF no two elements were \r\n            // swapped by inner loop, then break\r\n            if (swapped === false)\r\n            break;\r\n        }\r\n    }\r\n\r\n    function findPrimary() {\r\n        // if multiple roles\r\n        if (roleReturn.length > 1) {\r\n            var num = 0;\r\n            // console.log(roleReturn)\r\n            for (var k in roleReturn) {\r\n                // console.log(roleReturn[k])\r\n                // console.log(roleReturn[k][ShowID])\r\n                if (roleReturn[k][ShowID].includes(parseInt(showID))) {\r\n                    \r\n                    var temp = roleReturn[k];\r\n                    roleReturn.splice(k, 1);\r\n                    roleReturn.splice(num, 0, temp);\r\n                    num++;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n\r\n    //  function countRoles(roleReturn, n) {\r\n    //     let res = 0;\r\n    //     console.log(roleReturn)\r\n    //     for (let i = 0; i < n; i++) {\r\n    //         // skip ahead on duplicates\r\n    //         console.log(i)\r\n    //         while (i < n - 1 && roleReturn[i].CharID === roleReturn[i+1].CharID) {\r\n    //             console.log(roleReturn[i+1])\r\n    //             i++;\r\n    //         }\r\n    //         res++;\r\n    //     }\r\n    //     return res;\r\n    //  }\r\n}\r\n \r\nexport default HomeRoles;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}